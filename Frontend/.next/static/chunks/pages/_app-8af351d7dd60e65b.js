(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[888],{3454:function(e,t,n){"use strict";var r,i;e.exports=(null==(r=n.g.process)?void 0:r.env)&&"object"==typeof(null==(i=n.g.process)?void 0:i.env)?n.g.process:n(7663)},6840:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/_app",function(){return n(3847)}])},2292:function(e,t,n){"use strict";let r,i;n.d(t,{H:function(){return ar},Z:function(){return ai}});var s,o,a,l,u,c,h,d=n(5893),f=n(3454);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let p=function(e){let t=[],n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):(64512&i)==55296&&r+1<e.length&&(64512&e.charCodeAt(r+1))==56320?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},g=function(e){let t=[],n=0,r=0;for(;n<e.length;){let i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){let s=e[n++],o=e[n++],a=e[n++],l=((7&i)<<18|(63&s)<<12|(63&o)<<6|63&a)-65536;t[r++]=String.fromCharCode(55296+(l>>10)),t[r++]=String.fromCharCode(56320+(1023&l))}else{let s=e[n++],o=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return t.join("")},m={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let t=0;t<e.length;t+=3){let i=e[t],s=t+1<e.length,o=s?e[t+1]:0,a=t+2<e.length,l=a?e[t+2]:0,u=i>>2,c=(3&i)<<4|o>>4,h=(15&o)<<2|l>>6,d=63&l;a||(d=64,s||(h=64)),r.push(n[u],n[c],n[h],n[d])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(p(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):g(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();let n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let t=0;t<e.length;){let i=n[e.charAt(t++)],s=t<e.length,o=s?n[e.charAt(t)]:0;++t;let a=t<e.length,l=a?n[e.charAt(t)]:64;++t;let u=t<e.length,c=u?n[e.charAt(t)]:64;if(++t,null==i||null==o||null==l||null==c)throw new v;let h=i<<2|o>>4;if(r.push(h),64!==l){let e=o<<4&240|l>>2;if(r.push(e),64!==c){let e=l<<6&192|c;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class v extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}let y=function(e){let t=p(e);return m.encodeByteArray(t,!0)},_=function(e){return y(e).replace(/\./g,"")},w=function(e){try{return m.decodeString(e,!0)}catch(e){console.error("base64Decode failed: ",e)}return null},b=()=>/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==n.g)return n.g;throw Error("Unable to locate global object.")})().__FIREBASE_DEFAULTS__,T=()=>{if(void 0===f||void 0===f.env)return;let e=f.env.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},E=()=>{let e;if("undefined"==typeof document)return;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(e){return}let t=e&&w(e[1]);return t&&JSON.parse(t)},S=()=>{try{return b()||T()||E()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},I=e=>{var t,n;return null===(n=null===(t=S())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},R=e=>{let t=I(e);if(!t)return;let n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw Error(`Invalid host ${t} with no separate hostname and port!`);let r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},A=()=>{var e;return null===(e=S())||void 0===e?void 0:e.config},k=e=>{var t;return null===(t=S())||void 0===t?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}class L extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,L.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,O.prototype.create)}}class O{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){let n=t[0]||{},r=`${this.service}/${e}`,i=this.errors[e],s=i?i.replace(D,(e,t)=>{let r=n[t];return null!=r?String(r):`<${t}?>`}):"Error",o=`${this.serviceName}: ${s} (${r}).`,a=new L(r,o,n);return a}}let D=/\{\$([^}]+)}/g;function P(e,t){if(e===t)return!0;let n=Object.keys(e),r=Object.keys(t);for(let i of n){if(!r.includes(i))return!1;let n=e[i],s=t[i];if(M(n)&&M(s)){if(!P(n,s))return!1}else if(n!==s)return!1}for(let e of r)if(!n.includes(e))return!1;return!0}function M(e){return null!==e&&"object"==typeof e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U(e){let t=[];for(let[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function x(e){let t={},n=e.replace(/^\?/,"").split("&");return n.forEach(e=>{if(e){let[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}}),t}function V(e){let t=e.indexOf("?");if(!t)return"";let n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class F{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw Error("Missing Observer.");void 0===(r=!function(e,t){if("object"!=typeof e||null===e)return!1;for(let n of t)if(n in e&&"function"==typeof e[n])return!0;return!1}(e,["next","error","complete"])?{next:e,error:t,complete:n}:e).next&&(r.next=B),void 0===r.error&&(r.error=B),void 0===r.complete&&(r.complete=B);let i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}}),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(e){"undefined"!=typeof console&&console.error&&console.error(e)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function B(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j(e){return e&&e._delegate?e._delegate:e}class z{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let H="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let e=new C;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{let n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(e){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let n=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),r=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(e){if(r)return null;throw e}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if("EAGER"===e.instantiationMode)try{this.getOrInitializeService({instanceIdentifier:H})}catch(e){}for(let[e,t]of this.instancesDeferred.entries()){let n=this.normalizeInstanceIdentifier(e);try{let e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(e){}}}}clearInstance(e=H){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){let e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(e=H){return this.instances.has(e)}getOptions(e=H){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(let[e,t]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(e);n===i&&t.resolve(r)}return r}onInit(e,t){var n;let r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);let s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){let n=this.onInitCallbacks.get(t);if(n)for(let r of n)try{r(e,t)}catch(e){}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:e===H?void 0:e,options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch(e){}return n||null}normalizeInstanceIdentifier(e=H){return this.component?this.component.multipleInstances?e:H:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){let t=this.getProvider(e.name);t.isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new $(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let K=[];(rd=rp||(rp={}))[rd.DEBUG=0]="DEBUG",rd[rd.VERBOSE=1]="VERBOSE",rd[rd.INFO=2]="INFO",rd[rd.WARN=3]="WARN",rd[rd.ERROR=4]="ERROR",rd[rd.SILENT=5]="SILENT";let G={debug:rp.DEBUG,verbose:rp.VERBOSE,info:rp.INFO,warn:rp.WARN,error:rp.ERROR,silent:rp.SILENT},q=rp.INFO,X={[rp.DEBUG]:"log",[rp.VERBOSE]:"log",[rp.INFO]:"info",[rp.WARN]:"warn",[rp.ERROR]:"error"},J=(e,t,...n)=>{if(t<e.logLevel)return;let r=new Date().toISOString(),i=X[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Y{constructor(e){this.name=e,this._logLevel=q,this._logHandler=J,this._userLogHandler=null,K.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in rp))throw TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?G[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,rp.DEBUG,...e),this._logHandler(this,rp.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,rp.VERBOSE,...e),this._logHandler(this,rp.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,rp.INFO,...e),this._logHandler(this,rp.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,rp.WARN,...e),this._logHandler(this,rp.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,rp.ERROR,...e),this._logHandler(this,rp.ERROR,...e)}}let Q=(e,t)=>t.some(t=>e instanceof t),Z=new WeakMap,ee=new WeakMap,et=new WeakMap,en=new WeakMap,er=new WeakMap,ei={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return ee.get(e);if("objectStoreNames"===t)return e.objectStoreNames||et.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return es(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function es(e){var t;if(e instanceof IDBRequest)return function(e){let t=new Promise((t,n)=>{let r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{t(es(e.result)),r()},s=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",s)});return t.then(t=>{t instanceof IDBCursor&&Z.set(t,e)}).catch(()=>{}),er.set(t,e),t}(e);if(en.has(e))return en.get(e);let n="function"==typeof(t=e)?t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(i||(i=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(t)?function(...e){return t.apply(eo(this),e),es(Z.get(this))}:function(...e){return es(t.apply(eo(this),e))}:function(e,...n){let r=t.call(eo(this),e,...n);return et.set(r,e.sort?e.sort():[e]),es(r)}:(t instanceof IDBTransaction&&function(e){if(ee.has(e))return;let t=new Promise((t,n)=>{let r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{t(),r()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)});ee.set(e,t)}(t),Q(t,r||(r=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])))?new Proxy(t,ei):t;return n!==e&&(en.set(e,n),er.set(n,e)),n}let eo=e=>er.get(e),ea=["get","getKey","getAll","getAllKeys","count"],el=["put","add","delete","clear"],eu=new Map;function ec(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&"string"==typeof t))return;if(eu.get(t))return eu.get(t);let n=t.replace(/FromIndex$/,""),r=t!==n,i=el.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||ea.includes(n)))return;let s=async function(e,...t){let s=this.transaction(e,i?"readwrite":"readonly"),o=s.store;return r&&(o=o.index(t.shift())),(await Promise.all([o[n](...t),i&&s.done]))[0]};return eu.set(t,s),s}ei={...rh=ei,get:(e,t,n)=>ec(e,t)||rh.get(e,t,n),has:(e,t)=>!!ec(e,t)||rh.has(e,t)};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh{constructor(e){this.container=e}getPlatformInfoString(){let e=this.container.getProviders();return e.map(e=>{if(!function(e){let t=e.getComponent();return(null==t?void 0:t.type)==="VERSION"}(e))return null;{let t=e.getImmediate();return`${t.library}/${t.version}`}}).filter(e=>e).join(" ")}}let ed="@firebase/app",ef="0.9.8",ep=new Y("@firebase/app"),eg="[DEFAULT]",em={[ed]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},ev=new Map,ey=new Map;function e_(e){let t=e.name;if(ey.has(t))return ep.debug(`There were multiple attempts to register component ${t}.`),!1;for(let n of(ey.set(t,e),ev.values()))!function(e,t){try{e.container.addComponent(t)}catch(n){ep.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}(n,e);return!0}function ew(e,t){let n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}let eb=new O("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eT{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new z("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw eb.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eE="9.20.0";function eS(e,t={}){let n=e;if("object"!=typeof t){let e=t;t={name:e}}let r=Object.assign({name:eg,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!=typeof i||!i)throw eb.create("bad-app-name",{appName:String(i)});if(n||(n=A()),!n)throw eb.create("no-options");let s=ev.get(i);if(s){if(P(n,s.options)&&P(r,s.config))return s;throw eb.create("duplicate-app",{appName:i})}let o=new W(i);for(let e of ey.values())o.addComponent(e);let a=new eT(n,r,o);return ev.set(i,a),a}function eI(e=eg){let t=ev.get(e);if(!t&&e===eg)return eS();if(!t)throw eb.create("no-app",{appName:e});return t}function eR(e,t,n){var r;let i=null!==(r=em[e])&&void 0!==r?r:e;n&&(i+=`-${n}`);let s=i.match(/\s|\//),o=t.match(/\s|\//);if(s||o){let e=[`Unable to register library "${i}" with version "${t}":`];s&&e.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&e.push("and"),o&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ep.warn(e.join(" "));return}e_(new z(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}let eA="firebase-heartbeat-store",ek=null;function eC(){return ek||(ek=(function(e,t,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(e,1),a=es(o);return r&&o.addEventListener("upgradeneeded",e=>{r(es(o.result),e.oldVersion,e.newVersion,es(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(e=>{s&&e.addEventListener("close",()=>s()),i&&e.addEventListener("versionchange",()=>i())}).catch(()=>{}),a})("firebase-heartbeat-database",0,{upgrade:(e,t)=>{0===t&&e.createObjectStore(eA)}}).catch(e=>{throw eb.create("idb-open",{originalErrorMessage:e.message})})),ek}async function eN(e){try{let t=await eC();return t.transaction(eA).objectStore(eA).get(eO(e))}catch(e){if(e instanceof L)ep.warn(e.message);else{let t=eb.create("idb-get",{originalErrorMessage:null==e?void 0:e.message});ep.warn(t.message)}}}async function eL(e,t){try{let n=await eC(),r=n.transaction(eA,"readwrite"),i=r.objectStore(eA);return await i.put(t,eO(e)),r.done}catch(e){if(e instanceof L)ep.warn(e.message);else{let t=eb.create("idb-set",{originalErrorMessage:null==e?void 0:e.message});ep.warn(t.message)}}}function eO(e){return`${e.name}!${e.options.appId}`}class eD{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new eM(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){let e=this.container.getProvider("platform-logger").getImmediate(),t=e.getPlatformInfoString(),n=eP();return(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate===n||this._heartbeatsCache.heartbeats.some(e=>e.date===n))?void 0:(this._heartbeatsCache.heartbeats.push({date:n,agent:t}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(e=>{let t=new Date(e.date).valueOf(),n=Date.now();return n-t<=2592e6}),this._storage.overwrite(this._heartbeatsCache))}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";let e=eP(),{heartbeatsToSend:t,unsentEntries:n}=function(e,t=1024){let n=[],r=e.slice();for(let i of e){let e=n.find(e=>e.agent===i.agent);if(e){if(e.dates.push(i.date),eU(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),eU(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),r=_(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}}function eP(){let e=new Date;return e.toISOString().substring(0,10)}class eM{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!function(){try{return"object"==typeof indexedDB}catch(e){return!1}}()&&new Promise((e,t)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(e){t(e)}}).then(()=>!0).catch(()=>!1)}async read(){let e=await this._canUseIndexedDBPromise;if(!e)return{heartbeats:[]};{let e=await eN(this.app);return e||{heartbeats:[]}}}async overwrite(e){var t;let n=await this._canUseIndexedDBPromise;if(n){let n=await this.read();return eL(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;let n=await this._canUseIndexedDBPromise;if(n){let n=await this.read();return eL(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function eU(e){return _(JSON.stringify({version:2,heartbeats:e})).length}e_(new z("platform-logger",e=>new eh(e),"PRIVATE")),e_(new z("heartbeat",e=>new eD(e),"PRIVATE")),eR(ed,ef,""),eR(ed,ef,"esm2017"),eR("fire-js","");function ex(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)0>t.indexOf(r[i])&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function eV(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}let eF=new O("auth","Firebase",eV()),eB=new Y("@firebase/auth");function ej(e,...t){eB.logLevel<=rp.ERROR&&eB.error(`Auth (${eE}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ez(e,...t){throw e$(e,...t)}function eH(e,...t){return e$(e,...t)}function e$(e,...t){if("string"!=typeof e){let n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return eF.create(e,...t)}function eW(e,t,...n){if(!e)throw e$(t,...n)}function eK(e){let t="INTERNAL ASSERTION FAILED: "+e;throw ej(t),Error(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eG(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function eq(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eX{constructor(e,t){this.shortDelay=e,this.longDelay=t,t>e||eK("Short delay should be less than long delay!"),this.isMobile="undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(N())||"object"==typeof navigator&&"ReactNative"===navigator.product}get(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&("http:"===eq()||"https:"===eq()||function(){let e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eJ(e,t){e.emulator||eK("Emulator should always be set here");let{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eY{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void eK("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void eK("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void eK("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eQ={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},eZ=new eX(3e4,6e4);function e0(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function e1(e,t,n,r,i={}){return e2(e,i,async()=>{let i={},s={};r&&("GET"===t?s=r:i={body:JSON.stringify(r)});let o=U(Object.assign({key:e.config.apiKey},s)).slice(1),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/json",e.languageCode&&(a["X-Firebase-Locale"]=e.languageCode),eY.fetch()(e3(e,e.config.apiHost,n,o),Object.assign({method:t,headers:a,referrerPolicy:"no-referrer"},i))})}async function e2(e,t,n){e._canInitEmulator=!1;let r=Object.assign(Object.assign({},eQ),t);try{let t=new e6(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();let s=await i.json();if("needConfirmation"in s)throw e5(e,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{let t=i.ok?s.errorMessage:s.error.message,[n,o]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw e5(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw e5(e,"email-already-in-use",s);if("USER_DISABLED"===n)throw e5(e,"user-disabled",s);let a=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(o)throw function(e,t,n){let r=Object.assign(Object.assign({},eV()),{[t]:n}),i=new O("auth","Firebase",r);return i.create(t,{appName:e.name})}(e,a,o);ez(e,a)}}catch(t){if(t instanceof L)throw t;ez(e,"network-request-failed",{message:String(t)})}}async function e4(e,t,n,r,i={}){let s=await e1(e,t,n,r,i);return"mfaPendingCredential"in s&&ez(e,"multi-factor-auth-required",{_serverResponse:s}),s}function e3(e,t,n,r){let i=`${t}${n}?${r}`;return e.config.emulator?eJ(e.config,i):`${e.config.apiScheme}://${i}`}class e6{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(eH(this.auth,"network-request-failed")),eZ.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function e5(e,t,n){let r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=eH(e,t,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e8(e,t){return e1(e,"POST","/v1/accounts:delete",t)}async function e9(e,t){return e1(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e7(e){if(e)try{let t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(e){}}async function te(e,t=!1){let n=j(e),r=await n.getIdToken(t),i=tn(r);eW(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let s="object"==typeof i.firebase?i.firebase:void 0,o=null==s?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:e7(tt(i.auth_time)),issuedAtTime:e7(tt(i.iat)),expirationTime:e7(tt(i.exp)),signInProvider:o||null,signInSecondFactor:(null==s?void 0:s.sign_in_second_factor)||null}}function tt(e){return 1e3*Number(e)}function tn(e){let[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return ej("JWT malformed, contained fewer than 3 sections"),null;try{let e=w(n);if(!e)return ej("Failed to decode base64 JWT payload"),null;return JSON.parse(e)}catch(e){return ej("Caught error parsing JWT payload as JSON",null==e?void 0:e.toString()),null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tr(e,t,n=!1){if(n)return t;try{return await t}catch(t){throw t instanceof L&&function({code:e}){return"auth/user-disabled"===e||"auth/user-token-expired"===e}(t)&&e.auth.currentUser===e&&await e.auth.signOut(),t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;let e=null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0,n=e-Date.now()-3e5;return Math.max(0,n)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(null==e?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=e7(this.lastLoginAt),this.creationTime=e7(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function to(e){var t;let n=e.auth,r=await e.getIdToken(),i=await tr(e,e9(n,{idToken:r}));eW(null==i?void 0:i.users.length,n,"internal-error");let s=i.users[0];e._notifyReloadListener(s);let o=(null===(t=s.providerUserInfo)||void 0===t?void 0:t.length)?s.providerUserInfo.map(e=>{var{providerId:t}=e,n=ex(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}):[],a=function(e,t){let n=e.filter(e=>!t.some(t=>t.providerId===e.providerId));return[...n,...t]}(e.providerData,o),l=e.isAnonymous,u=!(e.email&&s.passwordHash)&&!(null==a?void 0:a.length),c={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new ts(s.createdAt,s.lastLoginAt),isAnonymous:!!l&&u};Object.assign(e,c)}async function ta(e){let t=j(e);await to(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tl(e,t){let n=await e2(e,{},async()=>{let n=U({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,s=e3(e,r,"/v1/token",`key=${i}`),o=await e._getAdditionalHeaders();return o["Content-Type"]="application/x-www-form-urlencoded",eY.fetch()(s,{method:"POST",headers:o,body:n})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){eW(e.idToken,"internal-error"),eW(void 0!==e.idToken,"internal-error"),eW(void 0!==e.refreshToken,"internal-error");let t="expiresIn"in e&&void 0!==e.expiresIn?Number(e.expiresIn):function(e){let t=tn(e);return eW(t,"internal-error"),eW(void 0!==t.exp,"internal-error"),eW(void 0!==t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}async getToken(e,t=!1){return(eW(!this.accessToken||this.refreshToken,e,"user-token-expired"),t||!this.accessToken||this.isExpired)?this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){let{accessToken:n,refreshToken:r,expiresIn:i}=await tl(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){let{refreshToken:n,accessToken:r,expirationTime:i}=t,s=new tu;return n&&(eW("string"==typeof n,"internal-error",{appName:e}),s.refreshToken=n),r&&(eW("string"==typeof r,"internal-error",{appName:e}),s.accessToken=r),i&&(eW("number"==typeof i,"internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new tu,this.toJSON())}_performRefresh(){return eK("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tc(e,t){eW("string"==typeof e||void 0===e,"internal-error",{appName:t})}class th{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=ex(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ti(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new ts(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){let t=await tr(this,this.stsTokenManager.getToken(this.auth,e));return eW(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return te(this,e)}reload(){return ta(this)}_assign(e){this!==e&&(eW(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>Object.assign({},e)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new th(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){eW(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await to(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){let e=await this.getIdToken();return await tr(this,e8(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,s,o,a,l,u;let c=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,d=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(s=t.photoURL)&&void 0!==s?s:void 0,p=null!==(o=t.tenantId)&&void 0!==o?o:void 0,g=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,m=null!==(l=t.createdAt)&&void 0!==l?l:void 0,v=null!==(u=t.lastLoginAt)&&void 0!==u?u:void 0,{uid:y,emailVerified:_,isAnonymous:w,providerData:b,stsTokenManager:T}=t;eW(y&&T,e,"internal-error");let E=tu.fromJSON(this.name,T);eW("string"==typeof y,e,"internal-error"),tc(c,e.name),tc(h,e.name),eW("boolean"==typeof _,e,"internal-error"),eW("boolean"==typeof w,e,"internal-error"),tc(d,e.name),tc(f,e.name),tc(p,e.name),tc(g,e.name),tc(m,e.name),tc(v,e.name);let S=new th({uid:y,auth:e,email:h,emailVerified:_,displayName:c,isAnonymous:w,photoURL:f,phoneNumber:d,tenantId:p,stsTokenManager:E,createdAt:m,lastLoginAt:v});return b&&Array.isArray(b)&&(S.providerData=b.map(e=>Object.assign({},e))),g&&(S._redirectEventId=g),S}static async _fromIdTokenResponse(e,t,n=!1){let r=new tu;r.updateFromServerResponse(t);let i=new th({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await to(i),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let td=new Map;function tf(e){e instanceof Function||eK("Expected a class definition");let t=td.get(e);return t?(t instanceof e||eK("Instance stored in cache mismatched with class"),t):(t=new e,td.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tp{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){let t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tg(e,t,n){return`firebase:${e}:${t}:${n}`}tp.type="NONE";class tm{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;let{config:r,name:i}=this.auth;this.fullUserKey=tg(this.userKey,r.apiKey,i),this.fullPersistenceKey=tg("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){let e=await this.persistence._get(this.fullUserKey);return e?th._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;let t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,n="authUser"){if(!t.length)return new tm(tf(tp),e,n);let r=(await Promise.all(t.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e),i=r[0]||tf(tp),s=tg(n,e.config.apiKey,e.name),o=null;for(let n of t)try{let t=await n._get(s);if(t){let r=th._fromJSON(e,t);n!==i&&(o=r),i=n;break}}catch(e){}let a=r.filter(e=>e._shouldAllowMigration);return i._shouldAllowMigration&&a.length&&(i=a[0],o&&await i._set(s,o.toJSON()),await Promise.all(t.map(async e=>{if(e!==i)try{await e._remove(s)}catch(e){}}))),new tm(i,e,n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tv(e){let t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(tb(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";{if(t.includes("edge/"))return"Edge";if(ty(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(tE(t))return"Blackberry";if(tS(t))return"Webos";if(t_(t))return"Safari";if((t.includes("chrome/")||tw(t))&&!t.includes("edge/"))return"Chrome";if(tT(t))return"Android";let n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if((null==n?void 0:n.length)===2)return n[1]}return"Other"}function ty(e=N()){return/firefox\//i.test(e)}function t_(e=N()){let t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function tw(e=N()){return/crios\//i.test(e)}function tb(e=N()){return/iemobile/i.test(e)}function tT(e=N()){return/android/i.test(e)}function tE(e=N()){return/blackberry/i.test(e)}function tS(e=N()){return/webos/i.test(e)}function tI(e=N()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function tR(e=N()){return tI(e)||tT(e)||tS(e)||tE(e)||/windows phone/i.test(e)||tb(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tA(e,t=[]){let n;switch(e){case"Browser":n=tv(N());break;case"Worker":n=`${tv(N())}-${e}`;break;default:n=e}let r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${eE}/${r}`}async function tk(e,t){return e1(e,"GET","/v2/recaptchaConfig",e0(e,t))}function tC(e){return void 0!==e&&void 0!==e.enterprise}class tN{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(e=>"EMAIL_PASSWORD_PROVIDER"===e.provider&&"OFF"!==e.enforcementState)}}function tL(e){return new Promise((t,n)=>{var r,i;let s=document.createElement("script");s.setAttribute("src",e),s.onload=t,s.onerror=e=>{let t=eH("internal-error");t.customData=e,n(t)},s.type="text/javascript",s.charset="UTF-8",(null!==(i=null===(r=document.getElementsByTagName("head"))||void 0===r?void 0:r[0])&&void 0!==i?i:document).appendChild(s)})}function tO(e){return`__${e}${Math.floor(1e6*Math.random())}`}class tD{constructor(e){this.type="recaptcha-enterprise",this.auth=j(e)}async verify(e="verify",t=!1){async function n(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(t,n)=>{tk(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(r=>{if(void 0===r.recaptchaKey)n(Error("recaptcha Enterprise site key undefined"));else{let n=new tN(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}}).catch(e=>{n(e)})})}function r(t,n,r){let i=window.grecaptcha;tC(i)?i.enterprise.ready(()=>{try{i.enterprise.execute(t,{action:e}).then(e=>{n(e)}).catch(e=>{r(e)})}catch(e){r(e)}}):r(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((e,i)=>{n(this.auth).then(n=>{if(!t&&tC(window.grecaptcha))r(n,e,i);else{if("undefined"==typeof window){i(Error("RecaptchaVerifier is only supported in browser"));return}tL("https://www.google.com/recaptcha/enterprise.js?render="+n).then(()=>{r(n,e,i)}).catch(e=>{i(e)})}}).catch(e=>{i(e)})})}}async function tP(e,t,n,r=!1){let i;let s=new tD(e);try{i=await s.verify(n)}catch(e){i=await s.verify(n,!0)}let o=Object.assign({},t);return r?Object.assign(o,{captchaResp:i}):Object.assign(o,{captchaResponse:i}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tM{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let n=t=>new Promise((n,r)=>{try{let r=e(t);n(r)}catch(e){r(e)}});n.onAbort=t,this.queue.push(n);let r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;let t=[];try{for(let n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(e){for(let e of(t.reverse(),t))try{e()}catch(e){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null==e?void 0:e.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tU{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new tx(this),this.idTokenSubscription=new tx(this),this.beforeStateQueue=new tM(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=eF,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=tf(t)),this._initializationPromise=this.queue(async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await tm.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(e){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;let e=await this.assertedPersistence.getCurrentUser();if(this.currentUser||e){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var t;let n=await this.assertedPersistence.getCurrentUser(),r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();let n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,s=null==r?void 0:r._redirectEventId,o=await this.tryRedirectSignIn(e);(!n||n===s)&&(null==o?void 0:o.user)&&(r=o.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(e){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(e))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return(eW(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId)?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(e){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await to(e)}catch(e){if((null==e?void 0:e.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;let e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){let t=e?j(e):null;return t&&eW(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&eW(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(tf(e))})}async initializeRecaptchaConfig(){let e=await tk(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),t=new tN(e);if(null==this.tenantId?this._agentRecaptchaConfig=t:this._tenantRecaptchaConfigs[this.tenantId]=t,t.emailPasswordEnabled){let e=new tD(this);e.verify()}}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new O("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){let n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){let t=e&&tf(e)||this._popupRedirectResolver;eW(t,this,"argument-error"),this.redirectPersistenceManager=await tm.create(this,[tf(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return(this._isInitialized&&await this.queue(async()=>{}),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e)?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};let i="function"==typeof t?t:t.next.bind(t),s=this._isInitialized?Promise.resolve():this._initializationPromise;return(eW(s,this,"internal-error"),s.then(()=>i(this.currentUser)),"function"==typeof t)?e.addObserver(t,n,r):e.addObserver(t)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return eW(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=tA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let n=await (null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);let r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;let t=await (null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null==t?void 0:t.error)&&function(e,...t){eB.logLevel<=rp.WARN&&eB.warn(`Auth (${eE}): ${e}`,...t)}(`Error while retrieving App Check token: ${t.error}`),null==t?void 0:t.token}}class tx{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){let n=new F(e,void 0);return n.subscribe.bind(n)}(e=>this.observer=e)}get next(){return eW(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function tV(e){let t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function tF(e){if(!e)return null;let t=Number(e);return isNaN(t)?null:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tB{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return eK("not implemented")}_getIdTokenResponse(e){return eK("not implemented")}_linkToIdToken(e,t){return eK("not implemented")}_getReauthenticationResolver(e){return eK("not implemented")}}async function tj(e,t){return e1(e,"POST","/v1/accounts:update",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tz(e,t){return e4(e,"POST","/v1/accounts:signInWithPassword",e0(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tH(e,t){return e4(e,"POST","/v1/accounts:signInWithEmailLink",e0(e,t))}async function t$(e,t){return e4(e,"POST","/v1/accounts:signInWithEmailLink",e0(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tW extends tB{constructor(e,t,n,r=null){super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new tW(e,t,"password")}static _fromEmailAndCode(e,t,n=null){return new tW(e,t,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let t="string"==typeof e?JSON.parse(e):e;if((null==t?void 0:t.email)&&(null==t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){var t;switch(this.signInMethod){case"password":let n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(null===(t=e._getRecaptchaConfig())||void 0===t||!t.emailPasswordEnabled)return tz(e,n).catch(async t=>{if("auth/missing-recaptcha-token"!==t.code)return Promise.reject(t);{console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");let t=await tP(e,n,"signInWithPassword");return tz(e,t)}});{let t=await tP(e,n,"signInWithPassword");return tz(e,t)}case"emailLink":return tH(e,{email:this._email,oobCode:this._password});default:ez(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return tj(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return t$(e,{idToken:t,email:this._email,oobCode:this._password});default:ez(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tK(e,t){return e4(e,"POST","/v1/accounts:signInWithIdp",e0(e,t))}class tG extends tB{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){let t=new tG(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):ez("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){let t="string"==typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=ex(t,["providerId","signInMethod"]);if(!n||!r)return null;let s=new tG(n,r);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(e){let t=this.buildRequest();return tK(e,t)}_linkToIdToken(e,t){let n=this.buildRequest();return n.idToken=t,tK(e,n)}_getReauthenticationResolver(e){let t=this.buildRequest();return t.autoCreate=!1,tK(e,t)}buildRequest(){let e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{let t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=U(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tq(e,t){return e1(e,"POST","/v1/accounts:sendVerificationCode",e0(e,t))}async function tX(e,t){return e4(e,"POST","/v1/accounts:signInWithPhoneNumber",e0(e,t))}async function tJ(e,t){let n=await e4(e,"POST","/v1/accounts:signInWithPhoneNumber",e0(e,t));if(n.temporaryProof)throw e5(e,"account-exists-with-different-credential",n);return n}let tY={USER_NOT_FOUND:"user-not-found"};async function tQ(e,t){let n=Object.assign(Object.assign({},t),{operation:"REAUTH"});return e4(e,"POST","/v1/accounts:signInWithPhoneNumber",e0(e,n),tY)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tZ extends tB{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new tZ({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new tZ({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return tX(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return tJ(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return tQ(e,this._makeVerificationRequest())}_makeVerificationRequest(){let{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){let e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"==typeof e&&(e=JSON.parse(e));let{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new tZ({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class t0{constructor(e){var t,n,r,i,s,o;let a=x(V(e)),l=null!==(t=a.apiKey)&&void 0!==t?t:null,u=null!==(n=a.oobCode)&&void 0!==n?n:null,c=/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=a.mode)&&void 0!==r?r:null);eW(l&&u&&c,"argument-error"),this.apiKey=l,this.operation=c,this.code=u,this.continueUrl=null!==(i=a.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(s=a.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(o=a.tenantId)&&void 0!==o?o:null}static parseLink(e){let t=function(e){let t=x(V(e)).link,n=t?x(V(t)).deep_link_id:null,r=x(V(e)).deep_link_id,i=r?x(V(r)).link:null;return i||r||n||t||e}(e);try{return new t0(t)}catch(e){return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t1{constructor(){this.providerId=t1.PROVIDER_ID}static credential(e,t){return tW._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){let n=t0.parseLink(t);return eW(n,"argument-error"),tW._fromEmailAndCode(e,n.code,n.tenantId)}}t1.PROVIDER_ID="password",t1.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t1.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t2{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t4 extends t2{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t3 extends t4{constructor(){super("facebook.com")}static credential(e){return tG._fromParams({providerId:t3.PROVIDER_ID,signInMethod:t3.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return t3.credentialFromTaggedObject(e)}static credentialFromError(e){return t3.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return t3.credential(e.oauthAccessToken)}catch(e){return null}}}t3.FACEBOOK_SIGN_IN_METHOD="facebook.com",t3.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t6 extends t4{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return tG._fromParams({providerId:t6.PROVIDER_ID,signInMethod:t6.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return t6.credentialFromTaggedObject(e)}static credentialFromError(e){return t6.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;let{oauthIdToken:t,oauthAccessToken:n}=e;if(!t&&!n)return null;try{return t6.credential(t,n)}catch(e){return null}}}t6.GOOGLE_SIGN_IN_METHOD="google.com",t6.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t5 extends t4{constructor(){super("github.com")}static credential(e){return tG._fromParams({providerId:t5.PROVIDER_ID,signInMethod:t5.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return t5.credentialFromTaggedObject(e)}static credentialFromError(e){return t5.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return t5.credential(e.oauthAccessToken)}catch(e){return null}}}t5.GITHUB_SIGN_IN_METHOD="github.com",t5.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t8 extends t4{constructor(){super("twitter.com")}static credential(e,t){return tG._fromParams({providerId:t8.PROVIDER_ID,signInMethod:t8.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return t8.credentialFromTaggedObject(e)}static credentialFromError(e){return t8.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;let{oauthAccessToken:t,oauthTokenSecret:n}=e;if(!t||!n)return null;try{return t8.credential(t,n)}catch(e){return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t9(e,t){return e4(e,"POST","/v1/accounts:signUp",e0(e,t))}t8.TWITTER_SIGN_IN_METHOD="twitter.com",t8.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t7{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n,r=!1){let i=await th._fromIdTokenResponse(e,n,r),s=ne(n),o=new t7({user:i,providerId:s,_tokenResponse:n,operationType:t});return o}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);let r=ne(n);return new t7({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function ne(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt extends L{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,nt.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new nt(e,t,n,r)}}function nn(e,t,n,r){let i="reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e);return i.catch(n=>{if("auth/multi-factor-auth-required"===n.code)throw nt._fromErrorAndOperation(e,n,t,r);throw n})}async function nr(e,t,n=!1){let r=await tr(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return t7._forOperation(e,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ni(e,t,n=!1){let{auth:r}=e,i="reauthenticate";try{let s=await tr(e,nn(r,i,t,e),n);eW(s.idToken,r,"internal-error");let o=tn(s.idToken);eW(o,r,"internal-error");let{sub:a}=o;return eW(e.uid===a,r,"user-mismatch"),t7._forOperation(e,i,s)}catch(e){throw(null==e?void 0:e.code)==="auth/user-not-found"&&ez(r,"user-mismatch"),e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ns(e,t,n=!1){let r="signIn",i=await nn(e,r,t),s=await t7._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(s.user),s}async function no(e,t){return ns(j(e),t)}async function na(e,t,n){var r;let i;let s=j(e),o={returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"};if(null===(r=s._getRecaptchaConfig())||void 0===r?void 0:r.emailPasswordEnabled){let e=await tP(s,o,"signUpPassword");i=t9(s,e)}else i=t9(s,o).catch(async e=>{if("auth/missing-recaptcha-token"!==e.code)return Promise.reject(e);{console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");let e=await tP(s,o,"signUpPassword");return t9(s,e)}});let a=await i.catch(e=>Promise.reject(e)),l=await t7._fromIdTokenResponse(s,"signIn",a);return await s._updateCurrentUser(l.user),l}new WeakMap;let nl="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{if(!this.storage)return Promise.resolve(!1);return this.storage.setItem(nl,"1"),this.storage.removeItem(nl),Promise.resolve(!0)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class nc extends nu{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function(){let e=N();return t_(e)||tI(e)}()&&function(){try{return!!(window&&window!==window.top)}catch(e){return!1}}(),this.fallbackToPolling=tR(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(let t of Object.keys(this.listeners)){let n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});return}let n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){let r=this.storage.getItem(n);if(e.newValue!==r)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}let r=()=>{let e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);(function(){let e=N();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0})()&&10===document.documentMode&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;let n=this.listeners[e];if(n)for(let e of Array.from(n))e(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){let t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}nc.type="LOCAL";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh extends nu{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}nh.type="SESSION";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){let t=this.receivers.find(t=>t.isListeningto(e));if(t)return t;let n=new nd(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){let{eventId:t,eventType:n,data:r}=e.data,i=this.handlersMap[n];if(!(null==i?void 0:i.size))return;e.ports[0].postMessage({status:"ack",eventId:t,eventType:n});let s=Array.from(i).map(async t=>t(e.origin,r)),o=await Promise.all(s.map(async e=>{try{let t=await e;return{fulfilled:!0,value:t}}catch(e){return{fulfilled:!1,reason:e}}}));e.ports[0].postMessage({status:"done",eventId:t,eventType:n,response:o})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nf(e="",t=10){let n="";for(let e=0;e<t;e++)n+=Math.floor(10*Math.random());return e+n}nd.receivers=[];/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class np{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,n=50){let r,i;let s="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!s)throw Error("connection_unavailable");return new Promise((o,a)=>{let l=nf("",20);s.port1.start();let u=setTimeout(()=>{a(Error("unsupported_event"))},n);i={messageChannel:s,onMessage(e){if(e.data.eventId===l)switch(e.data.status){case"ack":clearTimeout(u),r=setTimeout(()=>{a(Error("timeout"))},3e3);break;case"done":clearTimeout(r),o(e.data.response);break;default:clearTimeout(u),clearTimeout(r),a(Error("invalid_response"))}}},this.handlers.add(i),s.port1.addEventListener("message",i.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[s.port2])}).finally(()=>{i&&this.removeMessageHandler(i)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ng(){return window}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nm(){return void 0!==ng().WorkerGlobalScope&&"function"==typeof ng().importScripts}async function nv(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{let e=await navigator.serviceWorker.ready;return e.active}catch(e){return null}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ny="firebaseLocalStorageDb",n_="firebaseLocalStorage",nw="fbase_key";class nb{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function nT(e,t){return e.transaction([n_],t?"readwrite":"readonly").objectStore(n_)}function nE(){let e=indexedDB.open(ny,1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{let t=e.result;try{t.createObjectStore(n_,{keyPath:nw})}catch(e){n(e)}}),e.addEventListener("success",async()=>{let n=e.result;n.objectStoreNames.contains(n_)?t(n):(n.close(),await function(){let e=indexedDB.deleteDatabase(ny);return new nb(e).toPromise()}(),t(await nE()))})})}async function nS(e,t,n){let r=nT(e,!0).put({[nw]:t,value:n});return new nb(r).toPromise()}async function nI(e,t){let n=nT(e,!1).get(t),r=await new nb(n).toPromise();return void 0===r?null:r.value}function nR(e,t){let n=nT(e,!0).delete(t);return new nb(n).toPromise()}class nA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await nE()),this.db}async _withRetries(e){let t=0;for(;;)try{let t=await this._openDb();return await e(t)}catch(e){if(t++>3)throw e;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return nm()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=nd._getInstance(nm()?self:null),this.receiver._subscribe("keyChanged",async(e,t)=>{let n=await this._poll();return{keyProcessed:n.includes(t.key)}}),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await nv(),!this.activeServiceWorker)return;this.sender=new np(this.activeServiceWorker);let n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){var t;if(this.sender&&this.activeServiceWorker&&((null===(t=null==navigator?void 0:navigator.serviceWorker)||void 0===t?void 0:t.controller)||null)===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(e){}}async _isAvailable(){try{if(!indexedDB)return!1;let e=await nE();return await nS(e,nl,"1"),await nR(e,nl),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>nS(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){let t=await this._withRetries(t=>nI(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>nR(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){let e=await this._withRetries(e=>{let t=nT(e,!1).getAll();return new nb(t).toPromise()});if(!e||0!==this.pendingWrites)return[];let t=[],n=new Set;for(let{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(let e of Object.keys(this.localCache))this.localCache[e]&&!n.has(e)&&(this.notifyListeners(e,null),t.push(e));return t}notifyListeners(e,t){this.localCache[e]=t;let n=this.listeners[e];if(n)for(let e of Array.from(n))e(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}async function nk(e,t,n){var r,i,s;let o=await n.verify();try{let a;if(eW("string"==typeof o,e,"argument-error"),eW("recaptcha"===n.type,e,"argument-error"),a="string"==typeof t?{phoneNumber:t}:t,"session"in a){let t=a.session;if("phoneNumber"in a){eW("enroll"===t.type,e,"internal-error");let n=await (i={idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:a.phoneNumber,recaptchaToken:o}},e1(e,"POST","/v2/accounts/mfaEnrollment:start",e0(e,i)));return n.phoneSessionInfo.sessionInfo}{eW("signin"===t.type,e,"internal-error");let n=(null===(r=a.multiFactorHint)||void 0===r?void 0:r.uid)||a.multiFactorUid;eW(n,e,"missing-multi-factor-info");let i=await (s={mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:o}},e1(e,"POST","/v2/accounts/mfaSignIn:start",e0(e,s)));return i.phoneResponseInfo.sessionInfo}}{let{sessionInfo:t}=await tq(e,{phoneNumber:a.phoneNumber,recaptchaToken:o});return t}}finally{n._reset()}}nA.type="LOCAL",tO("rcb"),new eX(3e4,6e4);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nC{constructor(e){this.providerId=nC.PROVIDER_ID,this.auth=j(e)}verifyPhoneNumber(e,t){return nk(this.auth,e,j(t))}static credential(e,t){return tZ._fromVerification(e,t)}static credentialFromResult(e){return nC.credentialFromTaggedObject(e)}static credentialFromError(e){return nC.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;let{phoneNumber:t,temporaryProof:n}=e;return t&&n?tZ._fromTokenResponse(t,n):null}}nC.PROVIDER_ID="phone",nC.PHONE_SIGN_IN_METHOD="phone";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nN extends tB{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return tK(e,this._buildIdpRequest())}_linkToIdToken(e,t){return tK(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return tK(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function nL(e){return ns(e.auth,new nN(e),e.bypassAuthState)}function nO(e){let{auth:t,user:n}=e;return eW(n,t,"internal-error"),ni(n,new nN(e),e.bypassAuthState)}async function nD(e){let{auth:t,user:n}=e;return eW(n,t,"internal-error"),nr(n,new nN(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nP{constructor(e,t,n,r,i=!1){this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(e){this.reject(e)}})}async onAuthEvent(e){let{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:s,type:o}=e;if(s){this.reject(s);return}let a={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(a))}catch(e){this.reject(e)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return nL;case"linkViaPopup":case"linkViaRedirect":return nD;case"reauthViaPopup":case"reauthViaRedirect":return nO;default:ez(this.auth,"internal-error")}}resolve(e){this.pendingPromise||eK("Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){this.pendingPromise||eK("Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nM=new eX(2e3,1e4);class nU extends nP{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,nU.currentPopupAction&&nU.currentPopupAction.cancel(),nU.currentPopupAction=this}async executeNotNull(){let e=await this.execute();return eW(e,this.auth,"internal-error"),e}async onExecution(){1===this.filter.length||eK("Popup operations only handle one event");let e=nf();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(eH(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(eH(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,nU.currentPopupAction=null}pollUserCancellation(){let e=()=>{var t,n;if(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(eH(this.auth,"popup-closed-by-user"))},2e3);return}this.pollId=window.setTimeout(e,nM.get())};e()}}nU.currentPopupAction=null;let nx=new Map;class nV extends nP{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}async execute(){let e=nx.get(this.auth._key());if(!e){try{let t=await nF(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(t){e=()=>Promise.reject(t)}nx.set(this.auth._key(),e)}return this.bypassAuthState||nx.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"===e.type){this.resolve(null);return}if(e.eventId){let t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function nF(e,t){let n=tg("pendingRedirect",t.config.apiKey,t.name),r=tf(e._redirectPersistence);if(!await r._isAvailable())return!1;let i=await r._get(n)==="true";return await r._remove(n),i}function nB(e,t){nx.set(e._key(),t)}async function nj(e,t,n=!1){let r=j(e),i=t?tf(t):(eW(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver),s=new nV(r,i,n),o=await s.execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,t)),o}class nz{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return n$(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!n$(e)){let r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(eH(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(nH(e))}saveEventToCache(e){this.cachedEventUids.add(nH(e)),this.lastProcessedEventTime=Date.now()}}function nH(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function n$({type:e,error:t}){return"unknown"===e&&(null==t?void 0:t.code)==="auth/no-auth-event"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nW(e,t={}){return e1(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nK=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,nG=/^https?/;async function nq(e){if(e.config.emulator)return;let{authorizedDomains:t}=await nW(e);for(let e of t)try{if(function(e){let t=eG(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){let i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!nG.test(n))return!1;if(nK.test(e))return r===e;let i=e.replace(/\./g,"\\."),s=RegExp("^(.+\\."+i+"|"+i+")$","i");return s.test(r)}(e))return}catch(e){}ez(e,"unauthorized-domain")}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nX=new eX(3e4,6e4);function nJ(){let e=ng().___jsl;if(null==e?void 0:e.H){for(let t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let t=0;t<e.CP.length;t++)e.CP[t]=null}}let nY=null,nQ=new eX(5e3,15e3),nZ={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},n0=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);async function n1(e){let t=await (nY=nY||new Promise((t,n)=>{var r,i,s;function o(){nJ(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{nJ(),n(eH(e,"network-request-failed"))},timeout:nX.get()})}if(null===(i=null===(r=ng().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else if(null===(s=ng().gapi)||void 0===s?void 0:s.load)o();else{let t=tO("iframefcb");return ng()[t]=()=>{gapi.load?o():n(eH(e,"network-request-failed"))},tL(`https://apis.google.com/js/api.js?onload=${t}`).catch(e=>n(e))}}).catch(e=>{throw nY=null,e})),n=ng().gapi;return eW(n,e,"internal-error"),t.open({where:document.body,url:function(e){let t=e.config;eW(t.authDomain,e,"auth-domain-config-required");let n=t.emulator?eJ(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,r={apiKey:t.apiKey,appName:e.name,v:eE},i=n0.get(e.config.apiHost);i&&(r.eid=i);let s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${U(r).slice(1)}`}(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:nZ,dontclear:!0},t=>new Promise(async(n,r)=>{await t.restyle({setHideOnLeave:!1});let i=eH(e,"network-request-failed"),s=ng().setTimeout(()=>{r(i)},nQ.get());function o(){ng().clearTimeout(s),n(t)}t.ping(o).then(o,()=>{r(i)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let n2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class n4{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}let n3=encodeURIComponent("fac");async function n6(e,t,n,r,i,s){eW(e.config.authDomain,e,"auth-domain-config-required"),eW(e.config.apiKey,e,"invalid-api-key");let o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:eE,eventId:i};if(t instanceof t2)for(let[n,r]of(t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",!function(e){for(let t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())&&(o.customParameters=JSON.stringify(t.getCustomParameters())),Object.entries(s||{})))o[n]=r;if(t instanceof t4){let e=t.getScopes().filter(e=>""!==e);e.length>0&&(o.scopes=e.join(","))}e.tenantId&&(o.tid=e.tenantId);let a=o;for(let e of Object.keys(a))void 0===a[e]&&delete a[e];let l=await e._getAppCheckToken(),u=l?`#${n3}=${encodeURIComponent(l)}`:"";return`${function({config:e}){return e.emulator?eJ(e,"emulator/auth/handler"):`https://${e.authDomain}/__/auth/handler`}(e)}?${U(a).slice(1)}${u}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let n5="webStorageSupport",n8=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=nh,this._completeRedirectFn=nj,this._overrideRedirectResult=nB}async _openPopup(e,t,n,r){var i;(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager)||eK("_initialize() not called before _openPopup()");let s=await n6(e,t,n,eG(),r);return function(e,t,n,r=500,i=600){let s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",l=Object.assign(Object.assign({},n2),{width:r.toString(),height:i.toString(),top:s,left:o}),u=N().toLowerCase();n&&(a=tw(u)?"_blank":n),ty(u)&&(t=t||"http://localhost",l.scrollbars="yes");let c=Object.entries(l).reduce((e,[t,n])=>`${e}${t}=${n},`,"");if(function(e=N()){var t;return tI(e)&&!!(null===(t=window.navigator)||void 0===t?void 0:t.standalone)}(u)&&"_self"!==a)return function(e,t){let n=document.createElement("a");n.href=e,n.target=t;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",a),new n4(null);let h=window.open(t||"",a,c);eW(h,e,"popup-blocked");try{h.focus()}catch(e){}return new n4(h)}(e,s,nf())}async _openRedirect(e,t,n,r){await this._originValidation(e);let i=await n6(e,t,n,eG(),r);return ng().location.href=i,new Promise(()=>{})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(n||eK("If manager is not set, promise should be"),n)}let n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){let t=await n1(e),n=new nz(e);return t.register("authEvent",t=>{eW(null==t?void 0:t.authEvent,e,"invalid-auth-event");let r=n.onEvent(t.authEvent);return{status:r?"ACK":"ERROR"}},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){let n=this.iframes[e._key()];n.send(n5,{type:n5},n=>{var r;let i=null===(r=null==n?void 0:n[0])||void 0===r?void 0:r[n5];void 0!==i&&t(!!i),ez(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=nq(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return tR()||t_()||tI()}};class n9{constructor(e){this.factorId=e}_process(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return eK("unexpected MultiFactorSessionType")}}}class n7 extends n9{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new n7(e)}_finalizeEnroll(e,t,n){return e1(e,"POST","/v2/accounts/mfaEnrollment:finalize",e0(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()}))}_finalizeSignIn(e,t){return e1(e,"POST","/v2/accounts/mfaSignIn:finalize",e0(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()}))}}class re extends n9{constructor(e,t,n){super("totp"),this.otp=e,this.enrollmentId=t,this.secret=n}static _fromSecret(e,t){return new re(t,void 0,e)}static _fromEnrollmentId(e,t){return new re(t,e)}async _finalizeEnroll(e,t,n){return eW(void 0!==this.secret,e,"argument-error"),e1(e,"POST","/v2/accounts/mfaEnrollment:finalize",e0(e,{idToken:t,displayName:n,totpVerificationInfo:this.secret._makeTotpVerificationInfo(this.otp)}))}async _finalizeSignIn(e,t){eW(void 0!==this.enrollmentId&&void 0!==this.otp,e,"argument-error");let n={verificationCode:this.otp};return e1(e,"POST","/v2/accounts/mfaSignIn:finalize",e0(e,{mfaPendingCredential:t,mfaEnrollmentId:this.enrollmentId,totpVerificationInfo:n}))}}class rt{constructor(e,t,n,r,i,s,o){this.sessionInfo=s,this.auth=o,this.secretKey=e,this.hashingAlgorithm=t,this.codeLength=n,this.codeIntervalSeconds=r,this.enrollmentCompletionDeadline=i}static _fromStartTotpMfaEnrollmentResponse(e,t){return new rt(e.totpSessionInfo.sharedSecretKey,e.totpSessionInfo.hashingAlgorithm,e.totpSessionInfo.verificationCodeLength,e.totpSessionInfo.periodSec,new Date(e.totpSessionInfo.finalizeEnrollmentTime).toUTCString(),e.totpSessionInfo.sessionInfo,t)}_makeTotpVerificationInfo(e){return{sessionInfo:this.sessionInfo,verificationCode:e}}generateQrCodeUrl(e,t){var n;let r=!1;return(rn(e)||rn(t))&&(r=!0),r&&(rn(e)&&(e=(null===(n=this.auth.currentUser)||void 0===n?void 0:n.email)||"unknownuser"),rn(t)&&(t=this.auth.name)),`otpauth://totp/${t}:${e}?secret=${this.secretKey}&issuer=${t}&algorithm=${this.hashingAlgorithm}&digits=${this.codeLength}`}}function rn(e){return void 0===e||(null==e?void 0:e.length)===0}var rr="@firebase/auth",ri="0.23.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;let t=await this.auth.currentUser.getIdToken(e);return{accessToken:t}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(t=>{e((null==t?void 0:t.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){eW(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}let ro=k("authIdTokenMaxAge")||300,ra=null,rl=e=>async t=>{let n=t&&await t.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>ro)return;let i=null==n?void 0:n.token;ra!==i&&(ra=i,await fetch(e,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};rf="Browser",e_(new z("auth",(e,{options:t})=>{let n=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:s,authDomain:o}=n.options;eW(s&&!s.includes(":"),"invalid-api-key",{appName:n.name}),eW(!(null==o?void 0:o.includes(":")),"argument-error",{appName:n.name});let a={apiKey:s,authDomain:o,clientPlatform:rf,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:tA(rf)},l=new tU(n,r,i,a);return function(e,t){let n=(null==t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(tf);(null==t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null==t?void 0:t.popupRedirectResolver)}(l,t),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{let r=e.getProvider("auth-internal");r.initialize()})),e_(new z("auth-internal",e=>{let t=j(e.getProvider("auth").getImmediate());return new rs(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),eR(rr,ri,/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(rf)),eR(rr,ri,"esm2017");var ru=n(1163),rc=n(7294);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */eR("firebase","9.20.0","app");var rh,rd,rf,rp,rg,rm="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{},rv={},ry=ry||{},r_=rm||self;function rw(){}function rb(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function rT(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function rE(e,t,n){return e.call.apply(e.bind,arguments)}function rS(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function rI(e,t,n){return(rI=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?rE:rS).apply(null,arguments)}function rR(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function rA(e,t){function n(){}n.prototype=t.prototype,e.X=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Wb=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}function rk(){this.s=this.s,this.o=this.o}rk.prototype.s=!1,rk.prototype.na=function(){this.s||(this.s=!0,this.M())},rk.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};let rC=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"==typeof e)return"string"!=typeof t||1!=t.length?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return -1};function rN(e){let t=e.length;if(0<t){let n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function rL(e,t){for(let t=1;t<arguments.length;t++){let n=arguments[t];if(rb(n)){let t=e.length||0,r=n.length||0;e.length=t+r;for(let i=0;i<r;i++)e[t+i]=n[i]}else e.push(n)}}function rO(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}rO.prototype.h=function(){this.defaultPrevented=!0};var rD=function(){if(!r_.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{r_.addEventListener("test",rw,t),r_.removeEventListener("test",rw,t)}catch(e){}return e}();function rP(e){return/^[\s\xa0]*$/.test(e)}var rM=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function rU(e,t){return e<t?-1:e>t?1:0}function rx(){var e=r_.navigator;return e&&(e=e.userAgent)?e:""}function rV(e){return -1!=rx().indexOf(e)}function rF(e){return rF[" "](e),e}rF[" "]=rw;var rB=rV("Opera"),rj=rV("Trident")||rV("MSIE"),rz=rV("Edge"),rH=rz||rj,r$=rV("Gecko")&&!(-1!=rx().toLowerCase().indexOf("webkit")&&!rV("Edge"))&&!(rV("Trident")||rV("MSIE"))&&!rV("Edge"),rW=-1!=rx().toLowerCase().indexOf("webkit")&&!rV("Edge");function rK(){var e=r_.document;return e?e.documentMode:void 0}e:{var rG,rq="",rX=(rG=rx(),r$?/rv:([^\);]+)(\)|;)/.exec(rG):rz?/Edge\/([\d\.]+)/.exec(rG):rj?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(rG):rW?/WebKit\/(\S+)/.exec(rG):rB?/(?:Version)[ \/]?(\S+)/.exec(rG):void 0);if(rX&&(rq=rX?rX[1]:""),rj){var rJ=rK();if(null!=rJ&&rJ>parseFloat(rq)){o=String(rJ);break e}}o=rq}var rY={},rQ=r_.document&&rj&&(rK()||parseInt(o,10))||void 0;function rZ(e,t){if(rO.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(r$){e:{try{rF(t.nodeName);var i=!0;break e}catch(e){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:r0[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&rZ.X.h.call(this)}}rA(rZ,rO);var r0={2:"touch",3:"pen",4:"mouse"};rZ.prototype.h=function(){rZ.X.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var r1="closure_listenable_"+(1e6*Math.random()|0),r2=0;function r4(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++r2,this.ba=this.ea=!1}function r3(e){e.ba=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function r6(e,t,n){for(let r in e)t.call(n,e[r],r,e)}function r5(e){let t={};for(let n in e)t[n]=e[n];return t}let r8="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function r9(e,t){let n,r;for(let t=1;t<arguments.length;t++){for(n in r=arguments[t])e[n]=r[n];for(let t=0;t<r8.length;t++)n=r8[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function r7(e){this.src=e,this.g={},this.h=0}function ie(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],s=rC(i,t);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(r3(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function it(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.ba&&s.listener==t&&!!n==s.capture&&s.ha==r)return i}return -1}r7.prototype.add=function(e,t,n,r,i){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var o=it(e,t,r,i);return -1<o?(t=e[o],n||(t.ea=!1)):((t=new r4(t,this.src,s,!!r,i)).ea=n,e.push(t)),t};var ir="closure_lm_"+(1e6*Math.random()|0),ii={};function is(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var o=rT(i)?!!i.capture:!!i,a=iu(e);if(a||(e[ir]=a=new r7(e)),(n=a.add(t,n,r,o,s)).proxy)return n;if(r=function e(t){return il.call(e.src,e.listener,t)},n.proxy=r,r.src=e,r.listener=n,e.addEventListener)rD||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(ia(t.toString()),r);else if(e.addListener&&e.removeListener)e.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function io(e){if("number"!=typeof e&&e&&!e.ba){var t=e.src;if(t&&t[r1])ie(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(ia(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=iu(t))?(ie(n,e),0==n.h&&(n.src=null,t[ir]=null)):r3(e)}}}function ia(e){return e in ii?ii[e]:ii[e]="on"+e}function il(e,t){if(e.ba)e=!0;else{t=new rZ(t,this);var n=e.listener,r=e.ha||e.src;e.ea&&io(e),e=n.call(r,t)}return e}function iu(e){return(e=e[ir])instanceof r7?e:null}var ic="__closure_events_fn_"+(1e9*Math.random()>>>0);function ih(e){return"function"==typeof e?e:(e[ic]||(e[ic]=function(t){return e.handleEvent(t)}),e[ic])}function id(){rk.call(this),this.i=new r7(this),this.P=this,this.I=null}function ip(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"==typeof t)t=new rO(t,e);else if(t instanceof rO)t.target=t.target||e;else{var i=t;r9(t=new rO(r,e),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=t.g=n[s];i=ig(o,r,!0,t)&&i}if(i=ig(o=t.g=e,r,!0,t)&&i,i=ig(o,r,!1,t)&&i,n)for(s=0;s<n.length;s++)i=ig(o=t.g=n[s],r,!1,t)&&i}function ig(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var o=t[s];if(o&&!o.ba&&o.capture==n){var a=o.listener,l=o.ha||o.src;o.ea&&ie(e.i,o),i=!1!==a.call(l,r)&&i}}return i&&!r.defaultPrevented}rA(id,rk),id.prototype[r1]=!0,id.prototype.removeEventListener=function(e,t,n,r){!function e(t,n,r,i,s){if(Array.isArray(n))for(var o=0;o<n.length;o++)e(t,n[o],r,i,s);else(i=rT(i)?!!i.capture:!!i,r=ih(r),t&&t[r1])?(t=t.i,(n=String(n).toString())in t.g&&-1<(r=it(o=t.g[n],r,i,s))&&(r3(o[r]),Array.prototype.splice.call(o,r,1),0==o.length&&(delete t.g[n],t.h--))):t&&(t=iu(t))&&(n=t.g[n.toString()],t=-1,n&&(t=it(n,r,i,s)),(r=-1<t?n[t]:null)&&io(r))}(this,e,t,n,r)},id.prototype.M=function(){if(id.X.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)r3(n[r]);delete t.g[e],t.h--}}this.I=null},id.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},id.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var im=r_.JSON.stringify,iv=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new iy,e=>e.reset());class iy{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function i_(e,t){var n;l||(n=r_.Promise.resolve(void 0),l=function(){n.then(iT)}),iw||(l(),iw=!0),ib.add(e,t)}var iw=!1,ib=new class{constructor(){this.h=this.g=null}add(e,t){let n=iv.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}};function iT(){let e;for(;e=null,(t=ib).g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),n=e;){try{n.h.call(n.g)}catch(e){!function(e){r_.setTimeout(()=>{throw e},0)}(e)}var t,n,r=iv;r.j(n),100>r.h&&(r.h++,n.next=r.g,r.g=n)}iw=!1}function iE(e,t){id.call(this),this.h=e||1,this.g=t||r_,this.j=rI(this.lb,this),this.l=Date.now()}function iS(e){e.ca=!1,e.R&&(e.g.clearTimeout(e.R),e.R=null)}function iI(e,t,n){if("function"==typeof e)n&&(e=rI(e,n));else if(e&&"function"==typeof e.handleEvent)e=rI(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:r_.setTimeout(e,t||0)}rA(iE,id),(rg=iE.prototype).ca=!1,rg.R=null,rg.lb=function(){if(this.ca){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-e):(this.R&&(this.g.clearTimeout(this.R),this.R=null),ip(this,"tick"),this.ca&&(iS(this),this.start()))}},rg.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},rg.M=function(){iE.X.M.call(this),iS(this),delete this.g};class iR extends rk{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:function e(t){t.g=iI(()=>{t.g=null,t.i&&(t.i=!1,e(t))},t.j);let n=t.h;t.h=null,t.m.apply(null,n)}(this)}M(){super.M(),this.g&&(r_.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function iA(e){rk.call(this),this.h=e,this.g={}}rA(iA,rk);var ik=[];function iC(e,t,n,r){Array.isArray(n)||(n&&(ik[0]=n.toString()),n=ik);for(var i=0;i<n.length;i++){var s=function e(t,n,r,i,s){if(i&&i.once)return function e(t,n,r,i,s){if(Array.isArray(n)){for(var o=0;o<n.length;o++)e(t,n[o],r,i,s);return null}return r=ih(r),t&&t[r1]?t.O(n,r,rT(i)?!!i.capture:!!i,s):is(t,n,r,!0,i,s)}(t,n,r,i,s);if(Array.isArray(n)){for(var o=0;o<n.length;o++)e(t,n[o],r,i,s);return null}return r=ih(r),t&&t[r1]?t.N(n,r,rT(i)?!!i.capture:!!i,s):is(t,n,r,!1,i,s)}(t,n[i],r||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function iN(e){r6(e.g,function(e,t){this.g.hasOwnProperty(t)&&io(e)},e),e.g={}}function iL(){this.g=!0}function iO(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}}return im(n)}catch(e){return t}}(e,n)+(r?" "+r:"")})}iA.prototype.M=function(){iA.X.M.call(this),iN(this)},iA.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},iL.prototype.Aa=function(){this.g=!1},iL.prototype.info=function(){};var iD={},iP=null;function iM(){return iP=iP||new id}function iU(e){rO.call(this,iD.Pa,e)}function ix(e){let t=iM();ip(t,new iU(t))}function iV(e,t){rO.call(this,iD.STAT_EVENT,e),this.stat=t}function iF(e){let t=iM();ip(t,new iV(t,e))}function iB(e,t){rO.call(this,iD.Qa,e),this.size=t}function ij(e,t){if("function"!=typeof e)throw Error("Fn must not be null and must be a function");return r_.setTimeout(function(){e()},t)}iD.Pa="serverreachability",rA(iU,rO),iD.STAT_EVENT="statevent",rA(iV,rO),iD.Qa="timingevent",rA(iB,rO);var iz={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},iH={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function i$(){}function iW(e){return e.h||(e.h=e.i())}function iK(){}i$.prototype.h=null;var iG={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function iq(){rO.call(this,"d")}function iX(){rO.call(this,"c")}function iJ(){}function iY(e,t,n,r){this.l=e,this.j=t,this.m=n,this.U=r||1,this.S=new iA(this),this.O=iZ,e=rH?125:void 0,this.T=new iE(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new iQ}function iQ(){this.i=null,this.g="",this.h=!1}rA(iq,rO),rA(iX,rO),rA(iJ,i$),iJ.prototype.g=function(){return new XMLHttpRequest},iJ.prototype.i=function(){return{}},u=new iJ;var iZ=45e3,i0={},i1={};function i2(e,t,n){e.K=1,e.v=sc(ss(t)),e.s=n,e.P=!0,i4(e,null)}function i4(e,t){e.F=Date.now(),i5(e),e.A=ss(e.v);var n=e.A,r=e.U;Array.isArray(r)||(r=[String(r)]),sE(n.i,"t",r),e.C=0,n=e.l.H,e.h=new iQ,e.g=od(e.l,n?t:null,!e.s),0<e.N&&(e.L=new iR(rI(e.La,e,e.g),e.N)),iC(e.S,e.g,"readystatechange",e.ib),t=e.H?r5(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.da(e.A,e.u,e.s,t)):(e.u="GET",e.g.da(e.A,e.u,null,t)),ix(),function(e,t,n,r,i,s){e.info(function(){if(e.g){if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var h=c.split("_");o=2<=h.length&&"type"==h[1]?o+(c+"=")+u+"&":o+(c+"=redacted&")}}else o=null}else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o})}(e.j,e.u,e.A,e.m,e.U,e.s)}function i3(e){return!!e.g&&"GET"==e.u&&2!=e.K&&e.l.Da}function i6(e,t,n){let r=!0,i;for(;!e.I&&e.C<n.length;)if((i=function(e,t){var n=e.C,r=t.indexOf("\n",n);return -1==r?i1:isNaN(n=Number(t.substring(n,r)))?i0:(r+=1)+n>t.length?i1:(t=t.substr(r,n),e.C=r+n,t)}(e,n))==i1){4==t&&(e.o=4,iF(14),r=!1),iO(e.j,e.m,null,"[Incomplete Response]");break}else if(i==i0){e.o=4,iF(15),iO(e.j,e.m,n,"[Invalid Chunk]"),r=!1;break}else iO(e.j,e.m,i,null),st(e,i);i3(e)&&i!=i1&&i!=i0&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,iF(16),r=!1),e.i=e.i&&r,r?0<n.length&&!e.$&&(e.$=!0,(t=e.l).g==e&&t.$&&!t.K&&(t.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),oi(t),t.K=!0,iF(11))):(iO(e.j,e.m,n,"[Invalid Chunked Response]"),se(e),i7(e))}function i5(e){e.V=Date.now()+e.O,i8(e,e.O)}function i8(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=ij(rI(e.gb,e),t)}function i9(e){e.B&&(r_.clearTimeout(e.B),e.B=null)}function i7(e){0==e.l.G||e.I||oa(e.l,e)}function se(e){i9(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,iS(e.T),iN(e.S),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function st(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||sN(n.h,e))){if(!e.J&&sN(n.h,e)&&3==n.G){try{var r=n.Fa.g.parse(t)}catch(e){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(n.g.F+3e3<e.F)oo(n),s5(n);else break e}or(n),iF(18)}}else n.Ba=i[1],0<n.Ba-n.T&&37500>i[2]&&n.L&&0==n.A&&!n.v&&(n.v=ij(rI(n.cb,n),6e3));if(1>=sC(n.h)&&n.ja){try{n.ja()}catch(e){}n.ja=void 0}}else ou(n,11)}else if((e.J||n.g==e)&&oo(n),!rP(t))for(i=n.Fa.g.parse(t),t=0;t<i.length;t++){let a=i[t];if(n.T=a[0],a=a[1],2==n.G){if("c"==a[0]){n.I=a[1],n.ka=a[2];let t=a[3];null!=t&&(n.ma=t,n.j.info("VER="+n.ma));let i=a[4];null!=i&&(n.Ca=i,n.j.info("SVER="+n.Ca));let l=a[5];null!=l&&"number"==typeof l&&0<l&&(r=1.5*l,n.J=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;let u=e.g;if(u){let e=u.g?u.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=r.h;s.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(sL(s,s.h),s.h=null))}if(r.D){let e=u.g?u.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.za=e,su(r.F,r.D,e))}}if(n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-e.F,n.j.info("Handshake RTT: "+n.P+"ms")),(r=n).sa=oh(r,r.H?r.ka:null,r.V),e.J){sO(r.h,e);var o=r.J;o&&e.setTimeout(o),e.B&&(i9(e),i5(e)),r.g=e}else on(r);0<n.i.length&&s9(n)}else"stop"!=a[0]&&"close"!=a[0]||ou(n,7)}else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?ou(n,7):s6(n):"noop"!=a[0]&&n.l&&n.l.wa(a),n.A=0)}}ix(4)}catch(e){}}function sn(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(rb(e)||"string"==typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.oa&&"function"==typeof e.oa)return e.oa();if(!e.W||"function"!=typeof e.W){if("undefined"!=typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!=typeof Set&&e instanceof Set)){if(rb(e)||"string"==typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(let r in t=[],n=0,e)t[n++]=r;return t}}}(e),r=function(e){if(e.W&&"function"==typeof e.W)return e.W();if("undefined"!=typeof Map&&e instanceof Map||"undefined"!=typeof Set&&e instanceof Set)return Array.from(e.values());if("string"==typeof e)return e.split("");if(rb(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}(rg=iY.prototype).setTimeout=function(e){this.O=e},rg.ib=function(e){e=e.target;let t=this.L;t&&3==sZ(e)?t.l():this.La(e)},rg.La=function(e){try{if(e==this.g)e:{let c=sZ(this.g);var t=this.g.Ea();let h=this.g.aa();if(!(3>c)&&(3!=c||rH||this.g&&(this.h.h||this.g.fa()||s0(this.g)))){this.I||4!=c||7==t||(8==t||0>=h?ix(3):ix(2)),i9(this);var n=this.g.aa();this.Y=n;t:if(i3(this)){var r=s0(this.g);e="";var i=r.length,s=4==sZ(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){se(this),i7(this);var o="";break t}this.h.i=new r_.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:s&&t==i-1});r.splice(0,i),this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.fa();if(this.i=200==n,function(e,t,n,r,i,s,o){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.U,c,n),this.i){if(this.Z&&!this.J){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!rP(a)){var u=a;break t}}u=null}if(n=u)iO(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,st(this,n);else{this.i=!1,this.o=3,iF(12),se(this),i7(this);break e}}this.P?(i6(this,c,o),rH&&this.i&&3==c&&(iC(this.S,this.T,"tick",this.hb),this.T.start())):(iO(this.j,this.m,o,null),st(this,o)),4==c&&se(this),this.i&&!this.I&&(4==c?oa(this.l,this):(this.i=!1,i5(this)))}else 400==n&&0<o.indexOf("Unknown SID")?(this.o=3,iF(12)):(this.o=0,iF(13)),se(this),i7(this)}}}catch(e){}finally{}},rg.hb=function(){if(this.g){var e=sZ(this.g),t=this.g.fa();this.C<t.length&&(i9(this),i6(this,e,t),this.i&&4!=e&&i5(this))}},rg.cancel=function(){this.I=!0,se(this)},rg.gb=function(){this.B=null;let e=Date.now();0<=e-this.V?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.K&&(ix(),iF(17)),se(this),this.o=2,i7(this)):i8(this,this.V-e)};var sr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function si(e,t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof si){this.h=void 0!==t?t:e.h,so(this,e.j),this.s=e.s,this.g=e.g,sa(this,e.m),this.l=e.l,t=e.i;var n=new s_;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),sl(this,n),this.o=e.o}else e&&(n=String(e).match(sr))?(this.h=!!t,so(this,n[1]||"",!0),this.s=sh(n[2]||""),this.g=sh(n[3]||"",!0),sa(this,n[4]),this.l=sh(n[5]||"",!0),sl(this,n[6]||"",!0),this.o=sh(n[7]||"")):(this.h=!!t,this.i=new s_(null,this.h))}function ss(e){return new si(e)}function so(e,t,n){e.j=n?sh(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function sa(e,t){if(t){if(isNaN(t=Number(t))||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function sl(e,t,n){var r,i;t instanceof s_?(e.i=t,r=e.i,(i=e.h)&&!r.j&&(sw(r),r.i=null,r.g.forEach(function(e,t){var n=t.toLowerCase();t!=n&&(sb(this,t),sE(this,n,e))},r)),r.j=i):(n||(t=sd(t,sv)),e.i=new s_(t,e.h))}function su(e,t,n){e.i.set(t,n)}function sc(e){return su(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function sh(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function sd(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,sf),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function sf(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}si.prototype.toString=function(){var e=[],t=this.j;t&&e.push(sd(t,sp,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(sd(t,sp,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(sd(n,"/"==n.charAt(0)?sm:sg,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",sd(n,sy)),e.join("")};var sp=/[#\/\?@]/g,sg=/[#\?:]/g,sm=/[#\?]/g,sv=/[#\?@]/g,sy=/#/g;function s_(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function sw(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function sb(e,t){sw(e),t=sS(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function sT(e,t){return sw(e),t=sS(e,t),e.g.has(t)}function sE(e,t,n){sb(e,t),0<n.length&&(e.i=null,e.g.set(sS(e,t),rN(n)),e.h+=n.length)}function sS(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(rg=s_.prototype).add=function(e,t){sw(this),this.i=null,e=sS(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},rg.forEach=function(e,t){sw(this),this.g.forEach(function(n,r){n.forEach(function(n){e.call(t,n,r,this)},this)},this)},rg.oa=function(){sw(this);let e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){let i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},rg.W=function(e){sw(this);let t=[];if("string"==typeof e)sT(this,e)&&(t=t.concat(this.g.get(sS(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},rg.set=function(e,t){return sw(this),this.i=null,sT(this,e=sS(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},rg.get=function(e,t){return e&&0<(e=this.W(e)).length?String(e[0]):t},rg.toString=function(){if(this.i)return this.i;if(!this.g)return"";let e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];let s=encodeURIComponent(String(r)),o=this.W(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),e.push(i)}}return this.i=e.join("&")};var sI=class{constructor(e,t){this.h=e,this.g=t}};function sR(e){this.l=e||sA,e=r_.PerformanceNavigationTiming?0<(e=r_.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):!!(r_.g&&r_.g.Ga&&r_.g.Ga()&&r_.g.Ga().$b),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var sA=10;function sk(e){return!!e.h||!!e.g&&e.g.size>=e.j}function sC(e){return e.h?1:e.g?e.g.size:0}function sN(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function sL(e,t){e.g?e.g.add(t):e.h=t}function sO(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function sD(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(let n of e.g.values())t=t.concat(n.D);return t}return rN(e.i)}function sP(){}function sM(){this.g=new sP}function sU(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(e){}}function sx(e){this.l=e.ac||null,this.j=e.jb||!1}function sV(e,t){id.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=sF,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}sR.prototype.cancel=function(){if(this.i=sD(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(let e of this.g.values())e.cancel();this.g.clear()}},sP.prototype.stringify=function(e){return r_.JSON.stringify(e,void 0)},sP.prototype.parse=function(e){return r_.JSON.parse(e,void 0)},rA(sx,i$),sx.prototype.g=function(){return new sV(this.l,this.j)},sx.prototype.i=(s={},function(){return s}),rA(sV,id);var sF=0;function sB(e){e.j.read().then(e.Ta.bind(e)).catch(e.ga.bind(e))}function sj(e){e.readyState=4,e.l=null,e.j=null,e.A=null,sz(e)}function sz(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(rg=sV.prototype).open=function(e,t){if(this.readyState!=sF)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,sz(this)},rg.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;let t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||r_).fetch(new Request(this.B,t)).then(this.Wa.bind(this),this.ga.bind(this))},rg.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,sj(this)),this.readyState=sF},rg.Wa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,sz(this)),this.g&&(this.readyState=3,sz(this),this.g))){if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(void 0!==r_.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;sB(this)}else e.text().then(this.Va.bind(this),this.ga.bind(this))}},rg.Ta=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?sj(this):sz(this),3==this.readyState&&sB(this)}},rg.Va=function(e){this.g&&(this.response=this.responseText=e,sj(this))},rg.Ua=function(e){this.g&&(this.response=e,sj(this))},rg.ga=function(){this.g&&sj(this)},rg.setRequestHeader=function(e,t){this.v.append(e,t)},rg.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},rg.getAllResponseHeaders=function(){if(!this.h)return"";let e=[],t=this.h.entries();for(var n=t.next();!n.done;)e.push((n=n.value)[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(sV.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var sH=r_.JSON.parse;function s$(e){id.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=sW,this.K=this.L=!1}rA(s$,id);var sW="",sK=/^https?$/i,sG=["POST","PUT"];function sq(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,sX(e),sY(e)}function sX(e){e.D||(e.D=!0,ip(e,"complete"),ip(e,"error"))}function sJ(e){if(e.h&&void 0!==ry&&(!e.C[1]||4!=sZ(e)||2!=e.aa())){if(e.v&&4==sZ(e))iI(e.Ha,0,e);else if(ip(e,"readystatechange"),4==sZ(e)){e.h=!1;try{let a=e.aa();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t,n,r=!0;break e;default:r=!1}if(!(t=r)){if(n=0===a){var i=String(e.H).match(sr)[1]||null;if(!i&&r_.self&&r_.self.location){var s=r_.self.location.protocol;i=s.substr(0,s.length-1)}n=!sK.test(i?i.toLowerCase():"")}t=n}if(t)ip(e,"complete"),ip(e,"success");else{e.m=6;try{var o=2<sZ(e)?e.g.statusText:""}catch(e){o=""}e.j=o+" ["+e.aa()+"]",sX(e)}}finally{sY(e)}}}}function sY(e,t){if(e.g){sQ(e);let n=e.g,r=e.C[0]?rw:null;e.g=null,e.C=null,t||ip(e,"ready");try{n.onreadystatechange=r}catch(e){}}}function sQ(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(r_.clearTimeout(e.A),e.A=null)}function sZ(e){return e.g?e.g.readyState:0}function s0(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case sW:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(e){return null}}function s1(e){let t="";return r6(e,function(e,n){t+=n+":"+e+"\r\n"}),t}function s2(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=s1(n),"string"==typeof e?null!=n&&encodeURIComponent(String(n)):su(e,t,n))}function s4(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function s3(e){this.Ca=0,this.i=[],this.j=new iL,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=s4("failFast",!1,e),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=s4("baseRetryDelayMs",5e3,e),this.bb=s4("retryDelaySeedMs",1e4,e),this.$a=s4("forwardChannelMaxRetries",2,e),this.ta=s4("forwardChannelRequestTimeoutMs",2e4,e),this.ra=e&&e.xmlHttpFactory||void 0,this.Da=e&&e.Zb||!1,this.J=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.I="",this.h=new sR(e&&e.concurrentRequestLimit),this.Fa=new sM,this.O=e&&e.fastHandshake||!1,this.N=e&&e.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=e&&e.Xb||!1,e&&e.Aa&&this.j.Aa(),e&&e.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&e&&e.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function s6(e){if(s8(e),3==e.G){var t=e.U++,n=ss(e.F);su(n,"SID",e.I),su(n,"RID",t),su(n,"TYPE","terminate"),oe(e,n),(t=new iY(e,e.j,t,void 0)).K=2,t.v=sc(ss(n)),n=!1,r_.navigator&&r_.navigator.sendBeacon&&(n=r_.navigator.sendBeacon(t.v.toString(),"")),!n&&r_.Image&&((new Image).src=t.v,n=!0),n||(t.g=od(t.l,null),t.g.da(t.v)),t.F=Date.now(),i5(t)}oc(e)}function s5(e){e.g&&(oi(e),e.g.cancel(),e.g=null)}function s8(e){s5(e),e.u&&(r_.clearTimeout(e.u),e.u=null),oo(e),e.h.cancel(),e.m&&("number"==typeof e.m&&r_.clearTimeout(e.m),e.m=null)}function s9(e){sk(e.h)||e.m||(e.m=!0,i_(e.Ja,e),e.C=0)}function s7(e,t){var n;n=t?t.m:e.U++;let r=ss(e.F);su(r,"SID",e.I),su(r,"RID",n),su(r,"AID",e.T),oe(e,r),e.o&&e.s&&s2(r,e.o,e.s),n=new iY(e,e.j,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.i=t.D.concat(e.i)),t=ot(e,n,1e3),n.setTimeout(Math.round(.5*e.ta)+Math.round(.5*e.ta*Math.random())),sL(e.h,n),i2(n,r,t)}function oe(e,t){e.ia&&r6(e.ia,function(e,n){su(t,n,e)}),e.l&&sn({},function(e,n){su(t,n,e)})}function ot(e,t,n){n=Math.min(e.i.length,n);var r=e.l?rI(e.l.Ra,e.l,e):null;e:{var i=e.i;let t=-1;for(;;){let e=["count="+n];-1==t?0<n?(t=i[0].h,e.push("ofs="+t)):t=0:e.push("ofs="+t);let s=!0;for(let o=0;o<n;o++){let n=i[o].h,a=i[o].g;if(0>(n-=t))t=Math.max(0,i[o].h-100),s=!1;else try{!function(e,t,n){let r=n||"";try{sn(e,function(e,n){let i=e;rT(e)&&(i=im(e)),t.push(r+n+"="+encodeURIComponent(i))})}catch(e){throw t.push(r+"type="+encodeURIComponent("_badmap")),e}}(a,e,"req"+n+"_")}catch(e){r&&r(a)}}if(s){r=e.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,r}function on(e){e.g||e.u||(e.Z=1,i_(e.Ia,e),e.A=0)}function or(e){return!e.g&&!e.u&&!(3<=e.A)&&(e.Z++,e.u=ij(rI(e.Ia,e),ol(e,e.A)),e.A++,!0)}function oi(e){null!=e.B&&(r_.clearTimeout(e.B),e.B=null)}function os(e){e.g=new iY(e,e.j,"rpc",e.Z),null===e.o&&(e.g.H=e.s),e.g.N=0;var t=ss(e.sa);su(t,"RID","rpc"),su(t,"SID",e.I),su(t,"CI",e.L?"0":"1"),su(t,"AID",e.T),su(t,"TYPE","xmlhttp"),oe(e,t),e.o&&e.s&&s2(t,e.o,e.s),e.J&&e.g.setTimeout(e.J);var n=e.g;e=e.ka,n.K=1,n.v=sc(ss(t)),n.s=null,n.P=!0,i4(n,e)}function oo(e){null!=e.v&&(r_.clearTimeout(e.v),e.v=null)}function oa(e,t){var n=null;if(e.g==t){oo(e),oi(e),e.g=null;var r=2}else{if(!sN(e.h,t))return;n=t.D,sO(e.h,t),r=1}if(0!=e.G){if(e.pa=t.Y,t.i){if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i,s,o=e.C;ip(r=iM(),new iB(r,n)),s9(e)}else on(e)}else if(3==(o=t.o)||0==o&&0<e.pa||!(1==r&&(i=e,s=t,!(sC(i.h)>=i.h.j-(i.m?1:0))&&(i.m?(i.i=s.D.concat(i.i),!0):1!=i.G&&2!=i.G&&!(i.C>=(i.Za?0:i.$a))&&(i.m=ij(rI(i.Ja,i,s),ol(i,i.C)),i.C++,!0)))||2==r&&or(e)))switch(n&&0<n.length&&((t=e.h).i=t.i.concat(n)),o){case 1:ou(e,5);break;case 4:ou(e,10);break;case 3:ou(e,6);break;default:ou(e,2)}}}function ol(e,t){let n=e.Xa+Math.floor(Math.random()*e.bb);return e.l||(n*=2),n*t}function ou(e,t){if(e.j.info("Error code "+t),2==t){var n=null;e.l&&(n=null);var r=rI(e.kb,e);n||(n=new si("//www.google.com/images/cleardot.gif"),r_.location&&"http"==r_.location.protocol||so(n,"https"),sc(n)),function(e,t){let n=new iL;if(r_.Image){let r=new Image;r.onload=rR(sU,n,r,"TestLoadImage: loaded",!0,t),r.onerror=rR(sU,n,r,"TestLoadImage: error",!1,t),r.onabort=rR(sU,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=rR(sU,n,r,"TestLoadImage: timeout",!1,t),r_.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(n.toString(),r)}else iF(2);e.G=0,e.l&&e.l.va(t),oc(e),s8(e)}function oc(e){if(e.G=0,e.la=[],e.l){let t=sD(e.h);(0!=t.length||0!=e.i.length)&&(rL(e.la,t),rL(e.la,e.i),e.h.i.length=0,rN(e.i),e.i.length=0),e.l.ua()}}function oh(e,t,n){var r=n instanceof si?ss(n):new si(n,void 0);if(""!=r.g)t&&(r.g=t+"."+r.g),sa(r,r.m);else{var i=r_.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var s=new si(null,void 0);r&&so(s,r),t&&(s.g=t),i&&sa(s,i),n&&(s.l=n),r=s}return n=e.D,t=e.za,n&&t&&su(r,n,t),su(r,"VER",e.ma),oe(e,r),r}function od(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new s$(n&&e.Da&&!e.ra?new sx({jb:!0}):e.ra)).Ka(e.H),t}function of(){}function op(){if(rj&&!(10<=Number(rQ)))throw Error("Environmental error: no available transport.")}function og(e,t){id.call(this),this.g=new s3(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.S=e,(e=t&&t.Yb)&&!rP(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!rP(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&t in(e=this.h)&&delete e[t]),this.j=new oy(this)}function om(e){iq.call(this);var t=e.__sm__;if(t){e:{for(let n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function ov(){iX.call(this),this.status=1}function oy(e){this.g=e}(rg=s$.prototype).Ka=function(e){this.L=e},rg.da=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():u.g(),this.C=this.u?iW(this.u):iW(u),this.g.onreadystatechange=rI(this.Ha,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(e){sq(this,e);return}if(e=n||"",n=new Map(this.headers),r){if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if("function"==typeof r.keys&&"function"==typeof r.get)for(let e of r.keys())n.set(e,r.get(e));else throw Error("Unknown input type for opt_headers: "+String(r))}for(let[s,o]of(r=Array.from(n.keys()).find(e=>"content-type"==e.toLowerCase()),i=r_.FormData&&e instanceof r_.FormData,!(0<=rC(sG,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),n))this.g.setRequestHeader(s,o);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{var s,a;sQ(this),0<this.B&&((this.K=(s=this.g,rj&&(a=rY,Object.prototype.hasOwnProperty.call(a,9)?a[9]:a[9]=function(){let e=0,t=rM(String(o)).split("."),n=rM("9").split("."),r=Math.max(t.length,n.length);for(let o=0;0==e&&o<r;o++){var i=t[o]||"",s=n[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==i[0].length&&0==s[0].length)break;e=rU(0==i[1].length?0:parseInt(i[1],10),0==s[1].length?0:parseInt(s[1],10))||rU(0==i[2].length,0==s[2].length)||rU(i[2],s[2]),i=i[3],s=s[3]}while(0==e)}return 0<=e}(9))&&"number"==typeof s.timeout&&void 0!==s.ontimeout))?(this.g.timeout=this.B,this.g.ontimeout=rI(this.qa,this)):this.A=iI(this.qa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(e){sq(this,e)}},rg.qa=function(){void 0!==ry&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ip(this,"timeout"),this.abort(8))},rg.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,ip(this,"complete"),ip(this,"abort"),sY(this))},rg.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),sY(this,!0)),s$.X.M.call(this)},rg.Ha=function(){this.s||(this.F||this.v||this.l?sJ(this):this.fb())},rg.fb=function(){sJ(this)},rg.aa=function(){try{return 2<sZ(this)?this.g.status:-1}catch(e){return -1}},rg.fa=function(){try{return this.g?this.g.responseText:""}catch(e){return""}},rg.Sa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),sH(t)}},rg.Ea=function(){return this.m},rg.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(rg=s3.prototype).ma=8,rg.G=1,rg.Ja=function(e){if(this.m){if(this.m=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;let i=new iY(this,this.j,e,void 0),s=this.s;if(this.S&&(s?r9(s=r5(s),this.S):s=this.S),null!==this.o||this.N||(i.H=s,s=null),this.O)e:{for(var t=0,n=0;n<this.i.length;n++){t:{var r=this.i[n];if("__data__"in r.g&&"string"==typeof(r=r.g.__data__)){r=r.length;break t}r=void 0}if(void 0===r)break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=ot(this,i,t),su(n=ss(this.F),"RID",e),su(n,"CVER",22),this.D&&su(n,"X-HTTP-Session-Id",this.D),oe(this,n),s&&(this.N?t="headers="+encodeURIComponent(String(s1(s)))+"&"+t:this.o&&s2(n,this.o,s)),sL(this.h,i),this.Ya&&su(n,"TYPE","init"),this.O?(su(n,"$req",t),su(n,"SID","null"),i.Z=!0,i2(i,n,null)):i2(i,n,t),this.G=2}}else 3==this.G&&(e?s7(this,e):0==this.i.length||sk(this.h)||s7(this))}},rg.Ia=function(){if(this.u=null,os(this),this.$&&!(this.K||null==this.g||0>=this.P)){var e=2*this.P;this.j.info("BP detection timer enabled: "+e),this.B=ij(rI(this.eb,this),e)}},rg.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,iF(10),s5(this),os(this))},rg.cb=function(){null!=this.v&&(this.v=null,s5(this),or(this),iF(19))},rg.kb=function(e){e?(this.j.info("Successfully pinged google.com"),iF(2)):(this.j.info("Failed to ping google.com"),iF(1))},(rg=of.prototype).xa=function(){},rg.wa=function(){},rg.va=function(){},rg.ua=function(){},rg.Ra=function(){},op.prototype.g=function(e,t){return new og(e,t)},rA(og,id),og.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;iF(0),e.V=t,e.ia=n||{},e.L=e.Y,e.F=oh(e,null,e.V),s9(e)},og.prototype.close=function(){s6(this.g)},og.prototype.u=function(e){var t=this.g;if("string"==typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=im(e),e=n);t.i.push(new sI(t.ab++,e)),3==t.G&&s9(t)},og.prototype.M=function(){this.g.l=null,delete this.j,s6(this.g),delete this.g,og.X.M.call(this)},rA(om,iq),rA(ov,iX),rA(oy,of),oy.prototype.xa=function(){ip(this.g,"a")},oy.prototype.wa=function(e){ip(this.g,new om(e))},oy.prototype.va=function(e){ip(this.g,new ov)},oy.prototype.ua=function(){ip(this.g,"b")},op.prototype.createWebChannel=op.prototype.g,og.prototype.send=og.prototype.u,og.prototype.open=og.prototype.m,og.prototype.close=og.prototype.close,iz.NO_ERROR=0,iz.TIMEOUT=8,iz.HTTP_ERROR=6,iH.COMPLETE="complete",iK.EventType=iG,iG.OPEN="a",iG.CLOSE="b",iG.ERROR="c",iG.MESSAGE="d",id.prototype.listen=id.prototype.N,s$.prototype.listenOnce=s$.prototype.O,s$.prototype.getLastError=s$.prototype.Oa,s$.prototype.getLastErrorCode=s$.prototype.Ea,s$.prototype.getStatus=s$.prototype.aa,s$.prototype.getResponseJson=s$.prototype.Sa,s$.prototype.getResponseText=s$.prototype.fa,s$.prototype.send=s$.prototype.da,s$.prototype.setWithCredentials=s$.prototype.Ka,rv.createWebChannelTransport=function(){return new op},rv.getStatEventTarget=function(){return iM()},rv.ErrorCode=iz,rv.EventType=iH,rv.Event=iD,rv.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},rv.FetchXmlHttpFactory=sx,rv.WebChannel=iK,rv.XhrIo=s$,n(3454);let o_="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ow.UNAUTHENTICATED=new ow(null),ow.GOOGLE_CREDENTIALS=new ow("google-credentials-uid"),ow.FIRST_PARTY=new ow("first-party-uid"),ow.MOCK_USER=new ow("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ob="9.20.0",oT=new Y("@firebase/firestore");function oE(e,...t){if(oT.logLevel<=rp.DEBUG){let n=t.map(oI);oT.debug(`Firestore (${ob}): ${e}`,...n)}}function oS(e,...t){if(oT.logLevel<=rp.ERROR){let n=t.map(oI);oT.error(`Firestore (${ob}): ${e}`,...n)}}function oI(e){if("string"==typeof e)return e;try{return JSON.stringify(e)}catch(t){return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oR(e="Unexpected state"){let t=`FIRESTORE (${ob}) INTERNAL ASSERTION FAILED: `+e;throw oS(t),Error(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oA={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ok extends L{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oC{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oN{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class oL{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(ow.UNAUTHENTICATED))}shutdown(){}}class oO{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class oD{constructor(e){this.t=e,this.currentUser=ow.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i,r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve(),i=new oC;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new oC,e.enqueueRetryable(()=>r(this.currentUser))};let s=()=>{let t=i;e.enqueueRetryable(async()=>{await t.promise,await r(this.currentUser)})},o=e=>{oE("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(e=>o(e)),setTimeout(()=>{if(!this.auth){let e=this.t.getImmediate({optional:!0});e?o(e):(oE("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new oC)}},0),s()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>this.i!==e?(oE("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?("string"==typeof t.accessToken||oR(),new oN(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return null===e||"string"==typeof e||oR(),new ow(e)}}class oP{constructor(e,t,n){this.h=e,this.l=t,this.m=n,this.type="FirstParty",this.user=ow.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);let e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class oM{constructor(e,t,n){this.h=e,this.l=t,this.m=n}getToken(){return Promise.resolve(new oP(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(ow.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class oU{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ox{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){let n=e=>{null!=e.error&&oE("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);let n=e.token!==this.T;return this.T=e.token,oE("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable(()=>n(t))};let r=e=>{oE("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.I.onInit(e=>r(e)),setTimeout(()=>{if(!this.appCheck){let e=this.I.getImmediate({optional:!0});e?r(e):oE("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(e=>e?("string"==typeof e.token||oR(),this.T=e.token,new oU(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oV{static A(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";for(;n.length<20;){let r=/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function(e){let t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let t=0;t<e;t++)n[t]=Math.floor(256*Math.random());return n}(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length))}return n}}function oF(e,t){return e<t?-1:e>t?1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oB{constructor(e,t,n){void 0===t?t=0:t>e.length&&oR(),void 0===n?n=e.length-t:n>e.length-t&&oR(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===oB.comparator(this,e)}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof oB?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let n=Math.min(e.length,t.length);for(let r=0;r<n;r++){let n=e.get(r),i=t.get(r);if(n<i)return -1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class oj extends oB{construct(e,t,n){return new oj(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){let t=[];for(let n of e){if(n.indexOf("//")>=0)throw new ok(oA.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter(e=>e.length>0))}return new oj(t)}static emptyPath(){return new oj([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oz{constructor(e){this.path=e}static fromPath(e){return new oz(oj.fromString(e))}static fromName(e){return new oz(oj.fromString(e).popFirst(5))}static empty(){return new oz(oj.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===oj.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return oj.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new oz(new oj(e.slice()))}}function oH(e){return"IndexedDbTransactionError"===e.name}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o${constructor(e,t){this.comparator=e,this.root=t||oK.EMPTY}insert(e,t){return new o$(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,oK.BLACK,null,null))}remove(e){return new o$(this.comparator,this.root.remove(e,this.comparator).copy(null,null,oK.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return -1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){let e=[];return this.inorderTraversal((t,n)=>(e.push(`${t}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new oW(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new oW(this.root,e,this.comparator,!1)}getReverseIterator(){return new oW(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new oW(this.root,e,this.comparator,!0)}}class oW{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class oK{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:oK.RED,this.left=null!=r?r:oK.EMPTY,this.right=null!=i?i:oK.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new oK(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}removeMin(){if(this.left.isEmpty())return oK.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()}remove(e,t){let n,r=this;if(0>t(e,r.key))r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return oK.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}rotateLeft(){let e=this.copy(null,null,oK.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,oK.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw oR();let e=this.left.check();if(e!==this.right.check())throw oR();return e+(this.isRed()?0:1)}}oK.EMPTY=null,oK.RED=!0,oK.BLACK=!1,oK.EMPTY=new class{constructor(){this.size=0}get key(){throw oR()}get value(){throw oR()}get color(){throw oR()}get left(){throw oR()}get right(){throw oR()}copy(e,t,n,r,i){return this}insert(e,t,n){return new oK(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oG{constructor(e){this.comparator=e,this.data=new o$(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){let n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){let r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new oq(this.data.getIterator())}getIteratorFrom(e){return new oq(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof oG)||this.size!==e.size)return!1;let t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){let e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new oG(this.comparator);return t.data=e,t}}class oq{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oX extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oJ{constructor(e){this.binaryString=e}static fromBase64String(e){let t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new oX("Invalid base64 string: "+e):e}}(e);return new oJ(t)}static fromUint8Array(e){let t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new oJ(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){let t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return oF(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}function oY(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}oJ.EMPTY_BYTE_STRING=new oJ("");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oQ{constructor(e,t,n,r,i,s,o,a){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.useFetchStreams=a}}class oZ{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new oZ("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof oZ&&e.projectId===this.projectId&&e.database===this.database}}new o$(oz.comparator),new o$(oz.comparator),new o$(oz.comparator),new oG(oz.comparator),new oG(oF),(h=c||(c={}))[h.OK=0]="OK",h[h.CANCELLED=1]="CANCELLED",h[h.UNKNOWN=2]="UNKNOWN",h[h.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",h[h.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",h[h.NOT_FOUND=5]="NOT_FOUND",h[h.ALREADY_EXISTS=6]="ALREADY_EXISTS",h[h.PERMISSION_DENIED=7]="PERMISSION_DENIED",h[h.UNAUTHENTICATED=16]="UNAUTHENTICATED",h[h.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",h[h.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",h[h.ABORTED=10]="ABORTED",h[h.OUT_OF_RANGE=11]="OUT_OF_RANGE",h[h.UNIMPLEMENTED=12]="UNIMPLEMENTED",h[h.INTERNAL=13]="INTERNAL",h[h.UNAVAILABLE=14]="UNAVAILABLE",h[h.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o0{constructor(){}oe(e,t){this.ue(e,t),t.ce()}ue(e,t){var n;if("nullValue"in e)this.ae(t,5);else if("booleanValue"in e)this.ae(t,10),t.he(e.booleanValue?1:0);else if("integerValue"in e)this.ae(t,15),t.he(oY(e.integerValue));else if("doubleValue"in e){let n=oY(e.doubleValue);isNaN(n)?this.ae(t,13):(this.ae(t,15),0===n&&1/n==-1/0?t.he(0):t.he(n))}else if("timestampValue"in e){let n=e.timestampValue;this.ae(t,20),"string"==typeof n?t.le(n):(t.le(`${n.seconds||""}`),t.he(n.nanos||0))}else if("stringValue"in e)this.fe(e.stringValue,t),this.de(t);else if("bytesValue"in e)this.ae(t,30),t.we("string"==typeof(n=e.bytesValue)?oJ.fromBase64String(n):oJ.fromUint8Array(n)),this.de(t);else if("referenceValue"in e)this._e(e.referenceValue,t);else if("geoPointValue"in e){let n=e.geoPointValue;this.ae(t,45),t.he(n.latitude||0),t.he(n.longitude||0)}else"mapValue"in e?"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue?this.ae(t,Number.MAX_SAFE_INTEGER):(this.me(e.mapValue,t),this.de(t)):"arrayValue"in e?(this.ge(e.arrayValue,t),this.de(t)):oR()}fe(e,t){this.ae(t,25),this.ye(e,t)}ye(e,t){t.le(e)}me(e,t){let n=e.fields||{};for(let e of(this.ae(t,55),Object.keys(n)))this.fe(e,t),this.ue(n[e],t)}ge(e,t){let n=e.values||[];for(let e of(this.ae(t,50),n))this.ue(e,t)}_e(e,t){this.ae(t,37),oz.fromName(e).path.forEach(e=>{this.ae(t,60),this.ye(e,t)})}ae(e,t){e.he(t)}de(e){e.he(2)}}o0.pe=new o0,new Uint8Array(0);class o1{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new o1(e,o1.DEFAULT_COLLECTION_PERCENTILE,o1.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function o2(){return"undefined"!=typeof document?document:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */o1.DEFAULT_COLLECTION_PERCENTILE=10,o1.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,o1.DEFAULT=new o1(41943040,o1.DEFAULT_COLLECTION_PERCENTILE,o1.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),o1.DISABLED=new o1(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o4{constructor(e,t,n=1e3,r=1.5,i=6e4){this.Ws=e,this.timerId=t,this._o=n,this.mo=r,this.yo=i,this.po=0,this.Io=null,this.To=Date.now(),this.reset()}reset(){this.po=0}Eo(){this.po=this.yo}Ao(e){this.cancel();let t=Math.floor(this.po+this.Ro()),n=Math.max(0,Date.now()-this.To),r=Math.max(0,t-n);r>0&&oE("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.po} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.Io=this.Ws.enqueueAfterDelay(this.timerId,r,()=>(this.To=Date.now(),e())),this.po*=this.mo,this.po<this._o&&(this.po=this._o),this.po>this.yo&&(this.po=this.yo)}vo(){null!==this.Io&&(this.Io.skipDelay(),this.Io=null)}cancel(){null!==this.Io&&(this.Io.cancel(),this.Io=null)}Ro(){return(Math.random()-.5)*this.po}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o3{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new oC,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}static createAndSchedule(e,t,n,r,i){let s=Date.now()+n,o=new o3(e,t,s,r,i);return o.start(n),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ok(oA.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o6{constructor(e,t,n,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=ow.UNAUTHENTICATED,this.clientId=oV.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,async e=>{oE("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e}),this.appCheckCredentials.start(n,e=>(oE("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ok(oA.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new oC;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let t=function(e,t){if(oS("AsyncQueue",`${t}: ${e}`),oH(e))return new ok(oA.UNAVAILABLE,`${t}: ${e}`);throw e}(n,"Failed to shutdown persistence");e.reject(t)}}),e.promise}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let o5=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o8{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new ok(oA.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new ok(oA.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,function(e,t,n,r){if(!0===t&&!0===r)throw new ok(oA.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o9{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new o8({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ok(oA.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new ok(oA.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new o8(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new oL;switch(e.type){case"firstParty":return new oM(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new ok(oA.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){let t=o5.get(e);t&&(oE("ComponentProvider","Removing Datastore"),o5.delete(e),t.terminate())}(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o7{constructor(){this.Nc=Promise.resolve(),this.kc=[],this.Oc=!1,this.$c=[],this.Mc=null,this.Fc=!1,this.Bc=!1,this.Lc=[],this.Co=new o4(this,"async_queue_retry"),this.qc=()=>{let e=o2();e&&oE("AsyncQueue","Visibility state changed to "+e.visibilityState),this.Co.vo()};let e=o2();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.qc)}get isShuttingDown(){return this.Oc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Uc(),this.Kc(e)}enterRestrictedMode(e){if(!this.Oc){this.Oc=!0,this.Bc=e||!1;let t=o2();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.qc)}}enqueue(e){if(this.Uc(),this.Oc)return new Promise(()=>{});let t=new oC;return this.Kc(()=>this.Oc&&this.Bc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.kc.push(e),this.Gc()))}async Gc(){if(0!==this.kc.length){try{await this.kc[0](),this.kc.shift(),this.Co.reset()}catch(e){if(!oH(e))throw e;oE("AsyncQueue","Operation failed with retryable error: "+e)}this.kc.length>0&&this.Co.Ao(()=>this.Gc())}}Kc(e){let t=this.Nc.then(()=>(this.Fc=!0,e().catch(e=>{let t;this.Mc=e,this.Fc=!1;let n=(t=e.message||"",e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t);throw oS("INTERNAL UNHANDLED ERROR: ",n),e}).then(e=>(this.Fc=!1,e))));return this.Nc=t,t}enqueueAfterDelay(e,t,n){this.Uc(),this.Lc.indexOf(e)>-1&&(t=0);let r=o3.createAndSchedule(this,e,t,n,e=>this.Qc(e));return this.$c.push(r),r}Uc(){this.Mc&&oR()}verifyOperationInProgress(){}async zc(){let e;do await (e=this.Nc);while(e!==this.Nc)}jc(e){for(let t of this.$c)if(t.timerId===e)return!0;return!1}Wc(e){return this.zc().then(()=>{for(let t of(this.$c.sort((e,t)=>e.targetTimeMs-t.targetTimeMs),this.$c))if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.zc()})}Hc(e){this.Lc.push(e)}Qc(e){let t=this.$c.indexOf(e);this.$c.splice(t,1)}}class ae extends o9{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new o7,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||function(e){var t,n,r,i,s,o;let a=e._freezeSettings(),l=(i=e._databaseId,s=(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",o=e._persistenceKey,new oQ(i,s,o,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,a.useFetchStreams));e._firestoreClient=new o6(e._authCredentials,e._appCheckCredentials,e._queue,l),(null===(n=a.cache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=a.cache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:a.cache.kind,_offline:a.cache._offlineComponentProvider,_online:a.cache._onlineComponentProvider})}(this),this._firestoreClient.terminate()}}!function(e=!0){ob=eE,e_(new z("firestore",(t,{instanceIdentifier:n,options:r})=>{let i=t.getProvider("app").getImmediate(),s=new ae(new oD(t.getProvider("auth-internal")),new ox(t.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new ok(oA.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new oZ(e.options.projectId,t)}(i,n),i);return r=Object.assign({useFetchStreams:e},r),s._setSettings(r),s},"PUBLIC").setMultipleInstances(!0)),eR(o_,"3.10.1",void 0),eR(o_,"3.10.1","esm2017")}(),Array.from(ev.values()).length?eI():eS({apiKey:"AIzaSyD7uRhxqFEx0tA0smTLY_YezfWzV5IYncQ",authDomain:"netflix-clone-ce54b.firebaseapp.com",projectId:"netflix-clone-ce54b",storageBucket:"netflix-clone-ce54b.appspot.com",messagingSenderId:"160622151554",appId:"1:160622151554:web:ff26fc56e1d4a63c90719b"}),function(e){let t="object"==typeof e?e:eI(),n=ew(t,"firestore").getImmediate({identifier:"string"==typeof e?e:"(default)"});if(!n._initialized){let e=R("firestore");e&&function(e,t,n,r={}){var i;let s=(e=function(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new ok(oA.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=function(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{var t;let n=(t=e).constructor?t.constructor.name:null;return n?`a custom ${n} object`:"an object"}}return"function"==typeof e?"a function":oR()}(e);throw new ok(oA.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}(e,o9))._getSettings();if("firestore.googleapis.com"!==s.host&&s.host!==t&&function(e){if(oT.logLevel<=rp.WARN){let t=[].map(oI);oT.warn(`Firestore (${ob}): ${e}`,...t)}}("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},s),{host:`${t}:${n}`,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=ow.MOCK_USER;else{t=/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function(e,t){if(e.uid)throw Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[_(JSON.stringify({alg:"none",type:"JWT"})),_(JSON.stringify(s)),""].join(".")}(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);let s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new ok(oA.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new ow(s)}e._authCredentials=new oO(new oN(t,n))}}(n,...e)}}();let at=function(e=eI()){let t=ew(e,"auth");if(t.isInitialized())return t.getImmediate();let n=/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function(e,t){let n=ew(e,"auth");if(n.isInitialized()){let e=n.getImmediate(),r=n.getOptions();if(P(r,null!=t?t:{}))return e;ez(e,"already-initialized")}let r=n.initialize({options:t});return r}(e,{popupRedirectResolver:n8,persistence:[nA,nc,nh]}),r=k("authTokenSyncURL");if(r){var i,s;let e=rl(r);i=()=>e(n.currentUser),j(n).beforeAuthStateChanged(e,i),s=t=>e(t),j(n).onIdTokenChanged(s,void 0,void 0)}let o=I("auth");return o&&function(e,t,n){let r=j(e);eW(r._canInitEmulator,r,"emulator-config-failed"),eW(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");let i=!!(null==n?void 0:n.disableWarnings),s=tV(t),{host:o,port:a}=function(e){let t=tV(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let e=i[1];return{host:e,port:tF(r.substr(e.length+1))}}{let[e,t]=r.split(":");return{host:e,port:tF(t)}}}(t),l=null===a?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}(n,`http://${o}`),n}(),an=(0,rc.createContext)({user:null,signUp:async()=>{},signIn:async()=>{},logout:async()=>{},error:null,loading:!1}),ar=e=>{let{children:t}=e,n=(0,ru.useRouter)(),[r,i]=(0,rc.useState)(null),[s,o]=(0,rc.useState)(null),[a,l]=(0,rc.useState)(!0),[u,c]=(0,rc.useState)(!1);(0,rc.useEffect)(()=>{var e;return e=e=>{e?(i(e),c(!1)):(i(null),c(!0),n.push("/Login")),l(!1)},j(at).onAuthStateChanged(e,void 0,void 0)},[at]);let h=async(e,t)=>{c(!0),await na(at,e,t).then(e=>{i(e.user),n.push("/"),c(!1)}).catch(e=>alert(e.message)).finally(()=>c(!1))},f=async(e,t,r)=>{c(!0),await no(j(at),t1.credential(e,t)).then(s=>{if(r)return fetch("http://localhost:8080/login",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Basic "+btoa(e+":"+t)},body:JSON.stringify({OTP:r})}).then(e=>e.json()).then(e=>{if(e.success)i(s.user),n.push("/");else throw Error("OTP_REQUIRED")});i(s.user),n.push("/")}).catch(e=>{if("OTP_REQUIRED"===e.message)throw e;alert(e.message)}).finally(()=>c(!1))},p=async()=>{c(!0),j(at).signOut().then(()=>{i(null)}).catch(e=>alert(e.message)).finally(()=>c(!1))},g=(0,rc.useMemo)(()=>({user:r,signUp:h,signIn:f,error:s,loading:u,logout:p}),[r,u,s]);return(0,d.jsx)(an.Provider,{value:g,children:!a&&t})};function ai(){return(0,rc.useContext)(an)}},3847:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o}});var r=n(5893);n(4744);var i=n(4480),s=n(2292);function o(e){let{Component:t,pageProps:n}=e;return(0,r.jsx)(s.H,{children:(0,r.jsx)(i.Wh,{children:(0,r.jsx)(t,{...n})})})}},4744:function(){},7663:function(e){!function(){var t={229:function(e){var t,n,r,i=e.exports={};function s(){throw Error("setTimeout has not been defined")}function o(){throw Error("clearTimeout has not been defined")}function a(e){if(t===setTimeout)return setTimeout(e,0);if((t===s||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:s}catch(e){t=s}try{n="function"==typeof clearTimeout?clearTimeout:o}catch(e){n=o}}();var l=[],u=!1,c=-1;function h(){u&&r&&(u=!1,r.length?l=r.concat(l):c=-1,l.length&&d())}function d(){if(!u){var e=a(h);u=!0;for(var t=l.length;t;){for(r=l,l=[];++c<t;)r&&r[c].run();c=-1,t=l.length}r=null,u=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===o||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function p(){}i.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new f(e,t)),1!==l.length||u||a(d)},f.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=p,i.addListener=p,i.once=p,i.off=p,i.removeListener=p,i.removeAllListeners=p,i.emit=p,i.prependListener=p,i.prependOnceListener=p,i.listeners=function(e){return[]},i.binding=function(e){throw Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw Error("process.chdir is not supported")},i.umask=function(){return 0}}},n={};function r(e){var i=n[e];if(void 0!==i)return i.exports;var s=n[e]={exports:{}},o=!0;try{t[e](s,s.exports,r),o=!1}finally{o&&delete n[e]}return s.exports}r.ab="//";var i=r(229);e.exports=i}()},1163:function(e,t,n){e.exports=n(880)},4480:function(e,t,n){"use strict";let r;n.d(t,{FV:function(){return sU},Wh:function(){return sP},cn:function(){return sM}});var i,s,o,a,l=n(7294),u=n(3935),c=n(3454),h=function(e){let t=Error(e);if(void 0===t.stack)try{throw t}catch(e){}return t},d=function(e){return!!e&&"function"==typeof e.then},f=function(e,t){if(null!=e)return e;throw h(null!=t?t:"Got unexpected null or undefined")};function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class g{getValue(){throw h("BaseLoadable")}toPromise(){throw h("BaseLoadable")}valueMaybe(){throw h("BaseLoadable")}valueOrThrow(){throw h(`Loadable expected value, but in "${this.state}" state`)}promiseMaybe(){throw h("BaseLoadable")}promiseOrThrow(){throw h(`Loadable expected promise, but in "${this.state}" state`)}errorMaybe(){throw h("BaseLoadable")}errorOrThrow(){throw h(`Loadable expected error, but in "${this.state}" state`)}is(e){return e.state===this.state&&e.contents===this.contents}map(e){throw h("BaseLoadable")}}class m extends g{constructor(e){super(),p(this,"state","hasValue"),p(this,"contents",void 0),this.contents=e}getValue(){return this.contents}toPromise(){return Promise.resolve(this.contents)}valueMaybe(){return this.contents}valueOrThrow(){return this.contents}promiseMaybe(){}errorMaybe(){}map(e){try{let t=e(this.contents);return d(t)?b(t):S(t)?t:_(t)}catch(t){return d(t)?b(t.next(()=>this.map(e))):w(t)}}}class v extends g{constructor(e){super(),p(this,"state","hasError"),p(this,"contents",void 0),this.contents=e}getValue(){throw this.contents}toPromise(){return Promise.reject(this.contents)}valueMaybe(){}promiseMaybe(){}errorMaybe(){return this.contents}errorOrThrow(){return this.contents}map(e){return this}}class y extends g{constructor(e){super(),p(this,"state","loading"),p(this,"contents",void 0),this.contents=e}getValue(){throw this.contents}toPromise(){return this.contents}valueMaybe(){}promiseMaybe(){return this.contents}promiseOrThrow(){return this.contents}errorMaybe(){}map(e){return b(this.contents.then(t=>{let n=e(t);if(S(n))switch(n.state){case"hasValue":case"loading":return n.contents;case"hasError":throw n.contents}return n}).catch(t=>{if(d(t))return t.then(()=>this.map(e).contents);throw t}))}}function _(e){return Object.freeze(new m(e))}function w(e){return Object.freeze(new v(e))}function b(e){return Object.freeze(new y(e))}function T(){return Object.freeze(new y(new Promise(()=>{})))}function E(e){let t=Array.isArray(e)?e:Object.getOwnPropertyNames(e).map(t=>e[t]),n=t.map(e=>S(e)?e:d(e)?b(e):_(e)),r=n.every(e=>"hasValue"===e.state)?_(n.map(e=>e.contents)):n.some(e=>"hasError"===e.state)?w(f(n.find(e=>"hasError"===e.state),"Invalid loadable passed to loadableAll").contents):b(Promise.all(n.map(e=>e.contents)));return Array.isArray(e)?r:r.map(t=>Object.getOwnPropertyNames(e).reduce((e,n,r)=>({...e,[n]:t[r]}),{}))}function S(e){return e instanceof g}var I={loadableWithValue:_,loadableWithError:w,loadableWithPromise:b,loadableLoading:T,loadableAll:E,isLoadable:S,RecoilLoadable:{of:e=>d(e)?b(e):S(e)?e:_(e),error:e=>w(e),loading:()=>T(),all:E,isLoadable:S}},R=Object.freeze({__proto__:null,loadableWithValue:I.loadableWithValue,loadableWithError:I.loadableWithError,loadableWithPromise:I.loadableWithPromise,loadableLoading:I.loadableLoading,loadableAll:I.loadableAll,isLoadable:I.isLoadable,RecoilLoadable:I.RecoilLoadable});let A={RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED:!0,RECOIL_GKS_ENABLED:new Set(["recoil_hamt_2020","recoil_sync_external_store","recoil_suppress_rerender_in_callback","recoil_memory_managament_2020"])};function k(e){return A.RECOIL_GKS_ENABLED.has(e)}void 0!==c&&(null==c?void 0:c.env)!=null&&(function(e,t){var n,r;let i=null===(n=c.env[e])||void 0===n?void 0:null===(r=n.toLowerCase())||void 0===r?void 0:r.trim();if(null!=i&&""!==i){if(!["true","false"].includes(i))throw h(`process.env.${e} value must be 'true', 'false', or empty: ${i}`);t("true"===i)}}("RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED",e=>{A.RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED=e}),function(e,t){var n;let r=null===(n=c.env[e])||void 0===n?void 0:n.trim();null!=r&&""!==r&&t(r.split(/\s*,\s*|\s+/))}("RECOIL_GKS_ENABLED",e=>{e.forEach(e=>{A.RECOIL_GKS_ENABLED.add(e)})})),k.setPass=e=>{A.RECOIL_GKS_ENABLED.add(e)},k.setFail=e=>{A.RECOIL_GKS_ENABLED.delete(e)},k.clear=()=>{A.RECOIL_GKS_ENABLED.clear()};var C=function(e,t,{error:n}={}){return null};let N=null!==(s=l.createMutableSource)&&void 0!==s?s:l.unstable_createMutableSource,L=null!==(o=l.useMutableSource)&&void 0!==o?o:l.unstable_useMutableSource,O=null!==(a=l.useSyncExternalStore)&&void 0!==a?a:l.unstable_useSyncExternalStore,D=!1;var P={createMutableSource:N,useMutableSource:L,useSyncExternalStore:O,currentRendererSupportsUseSyncExternalStore:function(){var e;let{ReactCurrentDispatcher:t,ReactCurrentOwner:n}=l.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,r=null!==(e=null==t?void 0:t.current)&&void 0!==e?e:n.currentDispatcher,i=null!=r.useSyncExternalStore;return!O||i||D||(D=!0,C("A React renderer without React 18+ API support is being used with React 18+.")),i},reactMode:function(){return k("recoil_transition_support")?{mode:"TRANSITION_SUPPORT",early:!0,concurrent:!0}:k("recoil_sync_external_store")&&null!=O?{mode:"SYNC_EXTERNAL_STORE",early:!0,concurrent:!1}:k("recoil_mutable_source")&&null!=L&&"undefined"!=typeof window&&!window.$disableRecoilValueMutableSource_TEMP_HACK_DO_NOT_USE?k("recoil_suppress_rerender_in_callback")?{mode:"MUTABLE_SOURCE",early:!0,concurrent:!0}:{mode:"MUTABLE_SOURCE",early:!1,concurrent:!1}:k("recoil_suppress_rerender_in_callback")?{mode:"LEGACY",early:!0,concurrent:!1}:{mode:"LEGACY",early:!1,concurrent:!1}},isFastRefreshEnabled:function(){return!1}};class M{constructor(e){p(this,"key",void 0),this.key=e}toJSON(){return{key:this.key}}}class U extends M{}class x extends M{}var V={AbstractRecoilValue:M,RecoilState:U,RecoilValueReadOnly:x,isRecoilValue:function(e){return e instanceof U||e instanceof x}},F=Object.freeze({__proto__:null,AbstractRecoilValue:V.AbstractRecoilValue,RecoilState:V.RecoilState,RecoilValueReadOnly:V.RecoilValueReadOnly,isRecoilValue:V.isRecoilValue}),B=function(e,...t){},j=function(e,t){return function*(){let n=0;for(let r of e)yield t(r,n++)}()};let{isFastRefreshEnabled:z}=P;class H{}let $=new H,W=new Map,K=new Map;class G extends Error{}let q=new Map;function X(e){return q.get(e)}var J={nodes:W,recoilValues:K,registerNode:function(e){A.RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED&&function(e){if(W.has(e)){let t=`Duplicate atom key "${e}". This is a FATAL ERROR in
      production. But it is safe to ignore this warning if it occurred because of
      hot module replacement.`;console.warn(t)}}(e.key),W.set(e.key,e);let t=null==e.set?new F.RecoilValueReadOnly(e.key):new F.RecoilState(e.key);return K.set(e.key,t),t},getNode:function(e){let t=W.get(e);if(null==t)throw new G(`Missing definition for RecoilValue: "${e}""`);return t},getNodeMaybe:function(e){return W.get(e)},deleteNodeConfigIfPossible:function(e){var t,n;if(!k("recoil_memory_managament_2020"))return;let r=W.get(e);null!=r&&null!==(t=r.shouldDeleteConfigOnRelease)&&void 0!==t&&t.call(r)&&(W.delete(e),null===(n=X(e))||void 0===n||n(),q.delete(e))},setConfigDeletionHandler:function(e,t){k("recoil_memory_managament_2020")&&(void 0===t?q.delete(e):q.set(e,t))},getConfigDeletionHandler:X,recoilValuesForKeys:function(e){return j(e,e=>f(K.get(e)))},NodeMissingError:G,DefaultValue:H,DEFAULT_VALUE:$},Y={enqueueExecution:function(e,t){t()}},Q=(function(e){var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n={},r={},i=function(e){return function(){return e}},s=n.hash=function(e){var n=void 0===e?"undefined":t(e);if("number"===n)return e;"string"!==n&&(e+="");for(var r=0,i=0,s=e.length;i<s;++i)r=(r<<5)-r+e.charCodeAt(i)|0;return r},o=function(e,t){return t>>>e&31},a=function(e){return 1<<e},l=function(e,t){var n;return n=e&t-1,n-=n>>1&1431655765,n=(n=(858993459&n)+(n>>2&858993459))+(n>>4)&252645135,n+=n>>8,127&(n+=n>>16)},u=function(e,t,n,r){var i=r;if(!e){var s=r.length;i=Array(s);for(var o=0;o<s;++o)i[o]=r[o]}return i[t]=n,i},c=function(e,t,n){var r=n.length-1,i=0,s=0,o=n;if(e)i=s=t;else for(o=Array(r);i<t;)o[s++]=n[i++];for(++i;i<=r;)o[s++]=n[i++];return e&&(o.length=r),o},h=function(e,t,n,r){var i=r.length;if(e){for(var s=i;s>=t;)r[s--]=r[s];return r[t]=n,r}for(var o=0,a=0,l=Array(i+1);o<t;)l[a++]=r[o++];for(l[t]=n;o<i;)l[++a]=r[o++];return l},d={__hamt_isEmpty:!0},f=function(e){return e===d||e&&e.__hamt_isEmpty},p=function(e,t,n,r){return{type:1,edit:e,hash:t,key:n,value:r,_modify:E}},g=function(e,t,n){return{type:2,edit:e,hash:t,children:n,_modify:S}},m=function(e,t,n){return{type:3,edit:e,mask:t,children:n,_modify:I}},v=function(e,t,n){return{type:4,edit:e,size:t,children:n,_modify:R}},y=function(e,t,n,r,i){for(var s=[],o=r,a=0,l=0;o;++l)1&o&&(s[l]=i[a++]),o>>>=1;return s[t]=n,v(e,a+1,s)},_=function(e,t,n,r){for(var i=Array(t-1),s=0,o=0,a=0,l=r.length;a<l;++a)if(a!==n){var u=r[a];u&&!f(u)&&(i[s++]=u,o|=1<<a)}return m(e,o,i)},w=function e(t,n,r,i,s,l){if(r===s)return g(t,r,[l,i]);var u=o(n,r),c=o(n,s);return m(t,a(u)|a(c),u===c?[e(t,n+5,r,i,s,l)]:u<c?[i,l]:[l,i])},b=function(e,t,n,i,s,o,a,l){for(var h=s.length,d=0;d<h;++d){var f=s[d];if(n(a,f.key)){var g=f.value,m=o(g);if(m===g)return s;if(m===r)return--l.value,c(e,d,s);return u(e,d,p(t,i,a,m),s)}}var v=o();return v===r?s:(++l.value,u(e,h,p(t,i,a,v),s))},T=function(e,t){return e===t.edit},E=function(e,t,n,i,s,o,a){if(t(o,this.key)){var l=i(this.value);return l===this.value?this:l===r?(--a.value,d):T(e,this)?(this.value=l,this):p(e,s,o,l)}var u=i();return u===r?this:(++a.value,w(e,n,this.hash,this,s,p(e,s,o,u)))},S=function(e,t,n,i,s,o,a){if(s===this.hash){var l=b(T(e,this),e,t,this.hash,this.children,i,o,a);return l===this.children?this:l.length>1?g(e,this.hash,l):l[0]}var u=i();return u===r?this:(++a.value,w(e,n,this.hash,this,s,p(e,s,o,u)))},I=function(e,t,n,r,i,s,p){var g,v=this.mask,_=this.children,w=o(n,i),b=a(w),E=l(v,b),S=v&b,I=S?_[E]:d,R=I._modify(e,t,n+5,r,i,s,p);if(I===R)return this;var A=T(e,this),k=v,C=void 0;if(S&&f(R)){if(!(k&=~b))return d;if(_.length<=2&&((g=_[1^E])===d||1===g.type||2===g.type))return _[1^E];C=c(A,E,_)}else if(S||f(R))C=u(A,E,R,_);else{if(_.length>=16)return y(e,w,R,v,_);k|=b,C=h(A,E,R,_)}return A?(this.mask=k,this.children=C,this):m(e,k,C)},R=function(e,t,n,r,i,s,a){var l=this.size,c=this.children,h=o(n,i),p=c[h],g=(p||d)._modify(e,t,n+5,r,i,s,a);if(p===g)return this;var m=T(e,this),y=void 0;if(f(p)&&!f(g))++l,y=u(m,h,g,c);else if(!f(p)&&f(g)){if(--l<=8)return _(e,l,h,c);y=u(m,h,d,c)}else y=u(m,h,g,c);return m?(this.size=l,this.children=y,this):v(e,l,y)};function A(e,t,n,r,i){this._editable=e,this._edit=t,this._config=n,this._root=r,this._size=i}d._modify=function(e,t,n,i,s,o,a){var l=i();return l===r?d:(++a.value,p(e,s,o,l))},A.prototype.setTree=function(e,t){return this._editable?(this._root=e,this._size=t,this):e===this._root?this:new A(this._editable,this._edit,this._config,e,t)};var k=n.tryGetHash=function(e,t,n,r){for(var i=r._root,s=0,u=r._config.keyEq;;)switch(i.type){case 1:return u(n,i.key)?i.value:e;case 2:if(t===i.hash)for(var c=i.children,h=0,d=c.length;h<d;++h){var f=c[h];if(u(n,f.key))return f.value}return e;case 3:var p=a(o(s,t));if(i.mask&p){i=i.children[l(i.mask,p)],s+=5;break}return e;case 4:if(i=i.children[o(s,t)]){s+=5;break}return e;default:return e}};A.prototype.tryGetHash=function(e,t,n){return k(e,t,n,this)};var C=n.tryGet=function(e,t,n){return k(e,n._config.hash(t),t,n)};A.prototype.tryGet=function(e,t){return C(e,t,this)};var N=n.getHash=function(e,t,n){return k(void 0,e,t,n)};A.prototype.getHash=function(e,t){return N(e,t,this)},n.get=function(e,t){return k(void 0,t._config.hash(e),e,t)},A.prototype.get=function(e,t){return C(t,e,this)};var L=n.has=function(e,t,n){return k(r,e,t,n)!==r};A.prototype.hasHash=function(e,t){return L(e,t,this)};var O=n.has=function(e,t){return L(t._config.hash(e),e,t)};A.prototype.has=function(e){return O(e,this)};var D=function(e,t){return e===t};n.make=function(e){return new A(0,0,{keyEq:e&&e.keyEq||D,hash:e&&e.hash||s},d,0)},n.empty=n.make();var P=n.isEmpty=function(e){return e&&!!f(e._root)};A.prototype.isEmpty=function(){return P(this)};var M=n.modifyHash=function(e,t,n,r){var i={value:r._size},s=r._root._modify(r._editable?r._edit:NaN,r._config.keyEq,0,e,t,n,i);return r.setTree(s,i.value)};A.prototype.modifyHash=function(e,t,n){return M(n,e,t,this)};var U=n.modify=function(e,t,n){return M(e,n._config.hash(t),t,n)};A.prototype.modify=function(e,t){return U(t,e,this)};var x=n.setHash=function(e,t,n,r){return M(i(n),e,t,r)};A.prototype.setHash=function(e,t,n){return x(e,t,n,this)};var V=n.set=function(e,t,n){return x(n._config.hash(e),e,t,n)};A.prototype.set=function(e,t){return V(e,t,this)};var F=i(r),B=n.removeHash=function(e,t,n){return M(F,e,t,n)};A.prototype.removeHash=A.prototype.deleteHash=function(e,t){return B(e,t,this)};var j=n.remove=function(e,t){return B(t._config.hash(e),e,t)};A.prototype.remove=A.prototype.delete=function(e){return j(e,this)};var z=n.beginMutation=function(e){return new A(e._editable+1,e._edit+1,e._config,e._root,e._size)};A.prototype.beginMutation=function(){return z(this)};var H=n.endMutation=function(e){return e._editable=e._editable&&e._editable-1,e};A.prototype.endMutation=function(){return H(this)};var $=n.mutate=function(e,t){var n=z(t);return e(n),H(n)};A.prototype.mutate=function(e){return $(e,this)};var W=function(e){return e&&K(e[0],e[1],e[2],e[3],e[4])},K=function(e,t,n,r,i){for(;n<e;){var s=t[n++];if(s&&!f(s))return G(s,r,[e,t,n,r,i])}return W(i)},G=function(e,t,n){switch(e.type){case 1:return{value:t(e),rest:n};case 2:case 4:case 3:var r=e.children;return K(r.length,r,0,t,n);default:return W(n)}},q={done:!0};function X(e){this.v=e}X.prototype.next=function(){if(!this.v)return q;var e=this.v;return this.v=W(e.rest),e},X.prototype[Symbol.iterator]=function(){return this};var J=function(e,t){return new X(G(e._root,t))},Y=function(e){return[e.key,e.value]},Q=n.entries=function(e){return J(e,Y)};A.prototype.entries=A.prototype[Symbol.iterator]=function(){return Q(this)};var Z=function(e){return e.key},ee=n.keys=function(e){return J(e,Z)};A.prototype.keys=function(){return ee(this)};var et=function(e){return e.value},en=n.values=A.prototype.values=function(e){return J(e,et)};A.prototype.values=function(){return en(this)};var er=n.fold=function(e,t,n){var r=n._root;if(1===r.type)return e(t,r.value,r.key);for(var i=[r.children],s=void 0;s=i.pop();)for(var o=0,a=s.length;o<a;){var l=s[o++];l&&l.type&&(1===l.type?t=e(t,l.value,l.key):i.push(l.children))}return t};A.prototype.fold=function(e,t){return er(e,t,this)};var ei=n.forEach=function(e,t){return er(function(n,r,i){return e(r,i,t)},null,t)};A.prototype.forEach=function(e){return ei(e,this)};var es=n.count=function(e){return e._size};A.prototype.count=function(){return es(this)},Object.defineProperty(A.prototype,"size",{get:A.prototype.count}),e.exports?e.exports=n:undefined.hamt=n}(i={exports:{}},i.exports),i.exports);class Z{constructor(e){p(this,"_map",void 0),this._map=new Map(null==e?void 0:e.entries())}keys(){return this._map.keys()}entries(){return this._map.entries()}get(e){return this._map.get(e)}has(e){return this._map.has(e)}set(e,t){return this._map.set(e,t),this}delete(e){return this._map.delete(e),this}clone(){return et(this)}toMap(){return new Map(this._map)}}class ee{constructor(e){if(p(this,"_hamt",Q.empty.beginMutation()),e instanceof ee){let t=e._hamt.endMutation();e._hamt=t.beginMutation(),this._hamt=t.beginMutation()}else if(e)for(let[t,n]of e.entries())this._hamt.set(t,n)}keys(){return this._hamt.keys()}entries(){return this._hamt.entries()}get(e){return this._hamt.get(e)}has(e){return this._hamt.has(e)}set(e,t){return this._hamt.set(e,t),this}delete(e){return this._hamt.delete(e),this}clone(){return et(this)}toMap(){return new Map(this._hamt)}}function et(e){return k("recoil_hamt_2020")?new ee(e):new Z(e)}var en=Object.freeze({__proto__:null,persistentMap:{persistentMap:et}.persistentMap}),er=function(e,...t){let n=new Set;n:for(let r of e){for(let e of t)if(e.has(r))continue n;n.add(r)}return n},ei=function(e,t){let n=new Map;return e.forEach((e,r)=>{n.set(r,t(e,r))}),n};function es(e,t,n,r){let{nodeDeps:i,nodeToNodeSubscriptions:s}=n,o=i.get(e);if(o&&r&&o!==r.nodeDeps.get(e))return;i.set(e,t);let a=null==o?t:er(t,o);for(let t of a){s.has(t)||s.set(t,new Set);let n=f(s.get(t));n.add(e)}if(o){let n=er(o,t);for(let t of n){if(!s.has(t))return;let n=f(s.get(t));n.delete(e),0===n.size&&s.delete(t)}}}var eo={cloneGraph:function(e){return{nodeDeps:ei(e.nodeDeps,e=>new Set(e)),nodeToNodeSubscriptions:ei(e.nodeToNodeSubscriptions,e=>new Set(e))}},graph:function(){return{nodeDeps:new Map,nodeToNodeSubscriptions:new Map}},saveDepsToStore:function(e,t,n,r){var i,s,o,a,l;let u=n.getState();r===u.currentTree.version||r===(null===(i=u.nextTree)||void 0===i?void 0:i.version)||r===(null===(s=u.previousTree)||void 0===s?void 0:s.version)||C("Tried to save dependencies to a discarded tree");let c=n.getGraph(r);if(es(e,t,c),r===(null===(o=u.previousTree)||void 0===o?void 0:o.version)){let r=n.getGraph(u.currentTree.version);es(e,t,r,c)}if(r===(null===(a=u.previousTree)||void 0===a?void 0:a.version)||r===u.currentTree.version){let r=null===(l=u.nextTree)||void 0===l?void 0:l.version;if(void 0!==r){let i=n.getGraph(r);es(e,t,i,c)}}}};let ea=0,el=()=>ea++,eu=0,ec=()=>eu++,eh=0,ed=()=>eh++;var ef={getNextTreeStateVersion:el,getNextStoreID:ec,getNextComponentID:ed};let{persistentMap:ep}=en,{graph:eg}=eo,{getNextTreeStateVersion:em}=ef;function ev(){let e=em();return{version:e,stateID:e,transactionMetadata:{},dirtyAtoms:new Set,atomValues:ep(),nonvalidatedAtoms:ep()}}var ey={makeEmptyTreeState:ev,makeEmptyStoreState:function(){let e=ev();return{currentTree:e,nextTree:null,previousTree:null,commitDepth:0,knownAtoms:new Set,knownSelectors:new Set,transactionSubscriptions:new Map,nodeTransactionSubscriptions:new Map,nodeToComponentSubscriptions:new Map,queuedComponentCallbacks_DEPRECATED:[],suspendedComponentResolvers:new Set,graphsByVersion:new Map().set(e.version,eg()),retention:{referenceCounts:new Map,nodesRetainedByZone:new Map,retainablesToCheckForRelease:new Set},nodeCleanupFunctions:new Map}},getNextTreeStateVersion:em};class e_{}var ew={RetentionZone:e_,retentionZone:function(){return new e_}},eb={setByAddingToSet:function(e,t){let n=new Set(e);return n.add(t),n},setByDeletingFromSet:function(e,t){let n=new Set(e);return n.delete(t),n},mapBySettingInMap:function(e,t,n){let r=new Map(e);return r.set(t,n),r},mapByUpdatingInMap:function(e,t,n){let r=new Map(e);return r.set(t,n(r.get(t))),r},mapByDeletingFromMap:function(e,t){let n=new Map(e);return n.delete(t),n},mapByDeletingMultipleFromMap:function(e,t){let n=new Map(e);return t.forEach(e=>n.delete(e)),n}},eT=function*(e,t){let n=0;for(let r of e)t(r,n++)&&(yield r)},eE=function(e,t){let n=new Proxy(e,{get:(e,n)=>(!(n in e)&&n in t&&(e[n]=t[n]()),e[n]),ownKeys:e=>Object.keys(e)});return n};let{getNode:eS,getNodeMaybe:eI,recoilValuesForKeys:eR}=J,{RetentionZone:eA}=ew,{setByAddingToSet:ek}=eb,eC=Object.freeze(new Set);class eN extends Error{}function eL(e,t,n,r){let i=e.getState();if(i.nodeCleanupFunctions.has(n))return;let s=eS(n),o=function(e,t,n){if(!k("recoil_memory_managament_2020"))return()=>void 0;let{nodesRetainedByZone:r}=e.getState().retention;function i(e){let n=r.get(e);n||r.set(e,n=new Set),n.add(t)}if(n instanceof eA)i(n);else if(Array.isArray(n))for(let e of n)i(e);return()=>{if(!k("recoil_memory_managament_2020"))return;let{retention:r}=e.getState();function i(e){let n=r.nodesRetainedByZone.get(e);null==n||n.delete(t),n&&0===n.size&&r.nodesRetainedByZone.delete(e)}if(n instanceof eA)i(n);else if(Array.isArray(n))for(let e of n)i(e)}}(e,n,s.retainedBy),a=s.init(e,t,r);i.nodeCleanupFunctions.set(n,()=>{a(),o()})}function eO(e,t,n){return eS(n).peek(e,t)}function eD(e,t,n){let r=new Set,i=Array.from(n),s=e.getGraph(t.version);for(let e=i.pop();e;e=i.pop()){var o;r.add(e);let t=null!==(o=s.nodeToNodeSubscriptions.get(e))&&void 0!==o?o:eC;for(let e of t)r.has(e)||i.push(e)}return r}var eP={getNodeLoadable:function(e,t,n){return eL(e,t,n,"get"),eS(n).get(e,t)},peekNodeLoadable:eO,setNodeValue:function(e,t,n,r){let i=eS(n);if(null==i.set)throw new eN(`Attempt to set read-only RecoilValue: ${n}`);let s=i.set;return eL(e,t,n,"set"),s(e,t,r)},initializeNode:function(e,t,n){eL(e,e.getState().currentTree,t,n)},cleanUpNode:function(e,t){var n;let r=e.getState();null===(n=r.nodeCleanupFunctions.get(t))||void 0===n||n(),r.nodeCleanupFunctions.delete(t)},setUnvalidatedAtomValue_DEPRECATED:function(e,t,n){var r;let i=eI(t);return null==i||null===(r=i.invalidate)||void 0===r||r.call(i,e),{...e,atomValues:e.atomValues.clone().delete(t),nonvalidatedAtoms:e.nonvalidatedAtoms.clone().set(t,n),dirtyAtoms:ek(e.dirtyAtoms,t)}},peekNodeInfo:function(e,t,n){let r=e.getState(),i=e.getGraph(t.version),s=eS(n).nodeType;return eE({type:s},{loadable:()=>eO(e,t,n),isActive:()=>r.knownAtoms.has(n)||r.knownSelectors.has(n),isSet:()=>"selector"!==s&&t.atomValues.has(n),isModified:()=>t.dirtyAtoms.has(n),deps:()=>{var e;return eR(null!==(e=i.nodeDeps.get(n))&&void 0!==e?e:[])},subscribers:()=>{var i,s;return{nodes:eR(eT(eD(e,t,new Set([n])),e=>e!==n)),components:j(null!==(i=null===(s=r.nodeToComponentSubscriptions.get(n))||void 0===s?void 0:s.values())&&void 0!==i?i:[],([e])=>({name:e}))}}})},getDownstreamNodes:eD};let eM=null;var eU={setInvalidateMemoizedSnapshot:function(e){eM=e},invalidateMemoizedSnapshot:function(){var e;null===(e=eM)||void 0===e||e()}};let{getDownstreamNodes:ex,getNodeLoadable:eV,setNodeValue:eF}=eP,{getNextComponentID:eB}=ef,{getNode:ej,getNodeMaybe:ez}=J,{DefaultValue:eH}=J,{reactMode:e$}=P,{AbstractRecoilValue:eW,RecoilState:eK,RecoilValueReadOnly:eG,isRecoilValue:eq}=F,{invalidateMemoizedSnapshot:eX}=eU;function eJ(e,t,n){"hasValue"===n.state&&n.contents instanceof eH?e.atomValues.delete(t):e.atomValues.set(t,n),e.dirtyAtoms.add(t),e.nonvalidatedAtoms.delete(t)}function eY(e,t){e.replaceState(n=>{let r=e0(n);for(let n of t)!function(e,t,n){if("set"===n.type){let{recoilValue:r,valueOrUpdater:i}=n,s=function(e,t,{key:n},r){if("function"!=typeof r)return r;{let i=eV(e,t,n);if("loading"===i.state){let e=`Tried to set atom or selector "${n}" using an updater function while the current state is pending, this is not currently supported.`;throw C(e),h(e)}if("hasError"===i.state)throw i.contents;return r(i.contents)}}(e,t,r,i),o=eF(e,t,r.key,s);for(let[e,n]of o.entries())eJ(t,e,n)}else if("setLoadable"===n.type){let{recoilValue:{key:e},loadable:r}=n;eJ(t,e,r)}else if("markModified"===n.type){let{recoilValue:{key:e}}=n;t.dirtyAtoms.add(e)}else if("setUnvalidated"===n.type){var r;let{recoilValue:{key:e},unvalidatedValue:i}=n,s=ez(e);null==s||null===(r=s.invalidate)||void 0===r||r.call(s,t),t.atomValues.delete(e),t.nonvalidatedAtoms.set(e,i),t.dirtyAtoms.add(e)}else C(`Unknown action ${n.type}`)}(e,r,n);return e1(e,r),eX(),r})}function eQ(e,t){if(eZ.length){let n=eZ[eZ.length-1],r=n.get(e);r||n.set(e,r=[]),r.push(t)}else eY(e,[t])}let eZ=[];function e0(e){return{...e,atomValues:e.atomValues.clone(),nonvalidatedAtoms:e.nonvalidatedAtoms.clone(),dirtyAtoms:new Set(e.dirtyAtoms)}}function e1(e,t){let n=ex(e,t,t.dirtyAtoms);for(let e of n){var r,i;null===(r=ez(e))||void 0===r||null===(i=r.invalidate)||void 0===i||i.call(r,t)}}function e2(e,t,n){eQ(e,{type:"set",recoilValue:t,valueOrUpdater:n})}var e4={RecoilValueReadOnly:eG,AbstractRecoilValue:eW,RecoilState:eK,getRecoilValueAsLoadable:function(e,{key:t},n=e.getState().currentTree){var r,i;let s=e.getState();n.version===s.currentTree.version||n.version===(null===(r=s.nextTree)||void 0===r?void 0:r.version)||n.version===(null===(i=s.previousTree)||void 0===i?void 0:i.version)||C("Tried to read from a discarded tree");let o=eV(e,n,t);return"loading"===o.state&&o.contents.catch(()=>{}),o},setRecoilValue:e2,setRecoilValueLoadable:function(e,t,n){if(n instanceof eH)return e2(e,t,n);eQ(e,{type:"setLoadable",recoilValue:t,loadable:n})},markRecoilValueModified:function(e,t){eQ(e,{type:"markModified",recoilValue:t})},setUnvalidatedRecoilValue:function(e,t,n){eQ(e,{type:"setUnvalidated",recoilValue:t,unvalidatedValue:n})},subscribeToRecoilValue:function(e,{key:t},n,r=null){let i=eB(),s=e.getState();s.nodeToComponentSubscriptions.has(t)||s.nodeToComponentSubscriptions.set(t,new Map),f(s.nodeToComponentSubscriptions.get(t)).set(i,[null!=r?r:"<not captured>",n]);let o=e$();if(o.early&&("LEGACY"===o.mode||"MUTABLE_SOURCE"===o.mode)){let r=e.getState().nextTree;r&&r.dirtyAtoms.has(t)&&n(r)}return{release:()=>{let n=e.getState(),r=n.nodeToComponentSubscriptions.get(t);if(void 0===r||!r.has(i)){C(`Subscription missing at release time for atom ${t}. This is a bug in Recoil.`);return}r.delete(i),0===r.size&&n.nodeToComponentSubscriptions.delete(t)}}},isRecoilValue:eq,applyAtomValueWrites:function(e,t){let n=e.clone();return t.forEach((e,t)=>{"hasValue"===e.state&&e.contents instanceof eH?n.delete(t):n.set(t,e)}),n},batchStart:function(){let e=new Map;return eZ.push(e),()=>{for(let[t,n]of e)eY(t,n);let t=eZ.pop();t!==e&&C("Incorrect order of batch popping")}},writeLoadableToTreeState:eJ,invalidateDownstreams:e1,copyTreeState:e0,refreshRecoilValue:function(e,t){var n;let{currentTree:r}=e.getState(),i=ej(t.key);null===(n=i.clearCache)||void 0===n||n.call(i,e,r)}},e3=function(e,t,n){let r=e.entries(),i=r.next();for(;!i.done;){let s=i.value;if(t.call(n,s[1],s[0],e))return!0;i=r.next()}return!1};let{cleanUpNode:e6}=eP,{deleteNodeConfigIfPossible:e5,getNode:e8}=J,{RetentionZone:e9}=ew,e7=new Set;function te(e,t){let n=e.getState(),r=n.currentTree;if(n.nextTree){C("releaseNodesNowOnCurrentTree should only be called at the end of a batch");return}let i=new Set;for(let e of t)if(e instanceof e9)for(let t of function(e,t){var n;return null!==(n=e.retention.nodesRetainedByZone.get(t))&&void 0!==n?n:e7}(n,e))i.add(t);else i.add(e);let s=function(e,t){let n=e.getState(),r=n.currentTree,i=e.getGraph(r.version),s=new Set,o=new Set;return function t(a){var l,u;let c=new Set,h=function(e,t,n,r,i){let s=e.getGraph(t.version),o=[],a=new Set;for(;n.size>0;)(function e(t){if(r.has(t)||i.has(t)){n.delete(t);return}if(a.has(t))return;let l=s.nodeToNodeSubscriptions.get(t);if(l)for(let t of l)e(t);a.add(t),n.delete(t),o.push(t)})(f(n.values().next().value));return o}(e,r,a,s,o);for(let e of h){if("recoilRoot"===e8(e).retainedBy||(null!==(l=n.retention.referenceCounts.get(e))&&void 0!==l?l:0)>0||tt(e).some(e=>n.retention.referenceCounts.get(e))){o.add(e);continue}let t=i.nodeToNodeSubscriptions.get(e);if(t&&e3(t,e=>o.has(e))){o.add(e);continue}s.add(e),c.add(e)}let d=new Set;for(let e of c)for(let t of null!==(u=i.nodeDeps.get(e))&&void 0!==u?u:e7)s.has(t)||d.add(t);d.size&&t(d)}(t),s}(e,i);for(let t of s)!function(e,t,n){var r,i;if(!k("recoil_memory_managament_2020"))return;e6(e,n);let s=e.getState();s.knownAtoms.delete(n),s.knownSelectors.delete(n),s.nodeTransactionSubscriptions.delete(n),s.retention.referenceCounts.delete(n);let o=tt(n);for(let e of o)null===(r=s.retention.nodesRetainedByZone.get(e))||void 0===r||r.delete(n);t.atomValues.delete(n),t.dirtyAtoms.delete(n),t.nonvalidatedAtoms.delete(n);let a=s.graphsByVersion.get(t.version);if(a){let e=a.nodeDeps.get(n);if(void 0!==e)for(let t of(a.nodeDeps.delete(n),e))null===(i=a.nodeToNodeSubscriptions.get(t))||void 0===i||i.delete(n);a.nodeToNodeSubscriptions.delete(n)}e5(n)}(e,r,t)}function tt(e){let t=e8(e).retainedBy;return void 0===t||"components"===t||"recoilRoot"===t?[]:t instanceof e9?[t]:t}function tn(e,t){if(!k("recoil_memory_managament_2020"))return;let n=e.getState().retention.referenceCounts;n.delete(t),function(e,t){let n=e.getState();n.nextTree?n.retention.retainablesToCheckForRelease.add(t):te(e,new Set([t]))}(e,t)}var tr={SUSPENSE_TIMEOUT_MS:12e4,updateRetainCount:function(e,t,n){var r;if(!k("recoil_memory_managament_2020"))return;let i=e.getState().retention.referenceCounts,s=(null!==(r=i.get(t))&&void 0!==r?r:0)+n;0===s?tn(e,t):i.set(t,s)},updateRetainCountToZero:tn,releaseScheduledRetainablesNow:function(e){if(!k("recoil_memory_managament_2020"))return;let t=e.getState();te(e,t.retention.retainablesToCheckForRelease),t.retention.retainablesToCheckForRelease.clear()},retainedByOptionWithDefault:function(e){return void 0===e?"recoilRoot":e}};let{unstable_batchedUpdates:ti}=u,{unstable_batchedUpdates:ts}={unstable_batchedUpdates:ti},{batchStart:to}=e4,{unstable_batchedUpdates:ta}={unstable_batchedUpdates:ts},tl=ta||(e=>e()),tu=e=>{tl=e},tc=e=>{tl(()=>{let t=()=>void 0;try{t=to(),e()}finally{t()}})};var th={getBatcher:()=>tl,setBatcher:tu,batchUpdates:tc},td=function*(e){for(let t of e)for(let e of t)yield e};let tf="undefined"==typeof Window||"undefined"==typeof window,tp="undefined"!=typeof navigator&&"ReactNative"===navigator.product;var tg={isSSR:tf,isReactNative:tp,isWindow:e=>!tf&&(e===window||e instanceof Window)};let{batchUpdates:tm}=th,{initializeNode:tv,peekNodeInfo:ty}=eP,{graph:t_}=eo,{getNextStoreID:tw}=ef,{DEFAULT_VALUE:tb,recoilValues:tT,recoilValuesForKeys:tE}=J,{AbstractRecoilValue:tS,getRecoilValueAsLoadable:tI,setRecoilValue:tR,setUnvalidatedRecoilValue:tA}=e4,{updateRetainCount:tk}=tr,{setInvalidateMemoizedSnapshot:tC}=eU,{getNextTreeStateVersion:tN,makeEmptyStoreState:tL}=ey,{isSSR:tO}=tg,{memoizeOneWithArgsHashAndInvalidation:tD}={memoizeWithArgsHash:function(e,t){let n;return(...r)=>{n||(n={});let i=t(...r);return Object.hasOwnProperty.call(n,i)||(n[i]=e(...r)),n[i]}},memoizeOneWithArgsHash:function(e,t){let n,r;return(...i)=>{let s=t(...i);return n===s?r:(n=s,r=e(...i))}},memoizeOneWithArgsHashAndInvalidation:function(e,t){let n,r;let i=(...i)=>{let s=t(...i);return n===s?r:(n=s,r=e(...i))},s=()=>{n=null};return[i,s]}};class tP{constructor(e,t){for(let n of(p(this,"_store",void 0),p(this,"_refCount",1),p(this,"getLoadable",e=>(this.checkRefCount_INTERNAL(),tI(this._store,e))),p(this,"getPromise",e=>(this.checkRefCount_INTERNAL(),this.getLoadable(e).toPromise())),p(this,"getNodes_UNSTABLE",e=>{if(this.checkRefCount_INTERNAL(),(null==e?void 0:e.isModified)===!0){if((null==e?void 0:e.isInitialized)===!1)return[];let t=this._store.getState().currentTree;return tE(t.dirtyAtoms)}let t=this._store.getState().knownAtoms,n=this._store.getState().knownSelectors;return(null==e?void 0:e.isInitialized)==null?tT.values():!0===e.isInitialized?tE(td([t,n])):eT(tT.values(),({key:e})=>!t.has(e)&&!n.has(e))}),p(this,"getInfo_UNSTABLE",({key:e})=>(this.checkRefCount_INTERNAL(),ty(this._store,this._store.getState().currentTree,e))),p(this,"map",e=>{this.checkRefCount_INTERNAL();let t=new tV(this,tm);return e(t),t}),p(this,"asyncMap",async e=>{this.checkRefCount_INTERNAL();let t=new tV(this,tm);return t.retain(),await e(t),t.autoRelease_INTERNAL(),t}),this._store={storeID:tw(),parentStoreID:t,getState:()=>e,replaceState:t=>{e.currentTree=t(e.currentTree)},getGraph:t=>{let n=e.graphsByVersion;if(n.has(t))return f(n.get(t));let r=t_();return n.set(t,r),r},subscribeToTransactions:()=>({release:()=>{}}),addTransactionMetadata:()=>{throw h("Cannot subscribe to Snapshots")}},this._store.getState().knownAtoms))tv(this._store,n,"get"),tk(this._store,n,1);this.autoRelease_INTERNAL()}retain(){this._refCount<=0&&C("Attempt to retain() Snapshot that was already released."),this._refCount++;let e=!1;return()=>{e||(e=!0,this._release())}}autoRelease_INTERNAL(){tO||window.setTimeout(()=>this._release(),10)}_release(){if(this._refCount--,0===this._refCount){if(this._store.getState().nodeCleanupFunctions.forEach(e=>e()),this._store.getState().nodeCleanupFunctions.clear(),!k("recoil_memory_managament_2020"))return}else this._refCount}isRetained(){return this._refCount>0}checkRefCount_INTERNAL(){k("recoil_memory_managament_2020")&&this._refCount}getStore_INTERNAL(){return this.checkRefCount_INTERNAL(),this._store}getID(){return this.checkRefCount_INTERNAL(),this._store.getState().currentTree.stateID}getStoreID(){return this.checkRefCount_INTERNAL(),this._store.storeID}}function tM(e,t,n=!1){let r=e.getState(),i=n?tN():t.version;return{currentTree:{version:n?i:t.version,stateID:n?i:t.stateID,transactionMetadata:{...t.transactionMetadata},dirtyAtoms:new Set(t.dirtyAtoms),atomValues:t.atomValues.clone(),nonvalidatedAtoms:t.nonvalidatedAtoms.clone()},commitDepth:0,nextTree:null,previousTree:null,knownAtoms:new Set(r.knownAtoms),knownSelectors:new Set(r.knownSelectors),transactionSubscriptions:new Map,nodeTransactionSubscriptions:new Map,nodeToComponentSubscriptions:new Map,queuedComponentCallbacks_DEPRECATED:[],suspendedComponentResolvers:new Set,graphsByVersion:new Map().set(i,e.getGraph(t.version)),retention:{referenceCounts:new Map,nodesRetainedByZone:new Map,retainablesToCheckForRelease:new Set},nodeCleanupFunctions:new Map(j(r.nodeCleanupFunctions.entries(),([e])=>[e,()=>{}]))}}let[tU,tx]=tD((e,t)=>{var n;let r=e.getState(),i="latest"===t?null!==(n=r.nextTree)&&void 0!==n?n:r.currentTree:f(r.previousTree);return new tP(tM(e,i),e.storeID)},(e,t)=>{var n,r;return String(t)+String(e.storeID)+String(null===(n=e.getState().nextTree)||void 0===n?void 0:n.version)+String(e.getState().currentTree.version)+String(null===(r=e.getState().previousTree)||void 0===r?void 0:r.version)});tC(tx);class tV extends tP{constructor(e,t){super(tM(e.getStore_INTERNAL(),e.getStore_INTERNAL().getState().currentTree,!0),e.getStoreID()),p(this,"_batch",void 0),p(this,"set",(e,t)=>{this.checkRefCount_INTERNAL();let n=this.getStore_INTERNAL();this._batch(()=>{tk(n,e.key,1),tR(this.getStore_INTERNAL(),e,t)})}),p(this,"reset",e=>{this.checkRefCount_INTERNAL();let t=this.getStore_INTERNAL();this._batch(()=>{tk(t,e.key,1),tR(this.getStore_INTERNAL(),e,tb)})}),p(this,"setUnvalidatedAtomValues_DEPRECATED",e=>{this.checkRefCount_INTERNAL();let t=this.getStore_INTERNAL();tm(()=>{for(let[n,r]of e.entries())tk(t,n,1),tA(t,new tS(n),r)})}),this._batch=t}}var tF={Snapshot:tP,MutableSnapshot:tV,freshSnapshot:function(e){let t=new tP(tL());return null!=e?t.map(e):t},cloneSnapshot:function(e,t="latest"){let n=tU(e,t);return n.isRetained()?n:(tx(),tU(e,t))}},tB=Object.freeze({__proto__:null,Snapshot:tF.Snapshot,MutableSnapshot:tF.MutableSnapshot,freshSnapshot:tF.freshSnapshot,cloneSnapshot:tF.cloneSnapshot}),tj=function(...e){let t=new Set;for(let n of e)for(let e of n)t.add(e);return t};let{useRef:tz}=l;var tH=function(e){let t=tz(e);return t.current===e&&"function"==typeof e&&(t.current=e()),t};let{getNextTreeStateVersion:t$,makeEmptyStoreState:tW}=ey,{cleanUpNode:tK,getDownstreamNodes:tG,initializeNode:tq,setNodeValue:tX,setUnvalidatedAtomValue_DEPRECATED:tJ}=eP,{graph:tY}=eo,{cloneGraph:tQ}=eo,{getNextStoreID:tZ}=ef,{createMutableSource:t0,reactMode:t1}=P,{applyAtomValueWrites:t2}=e4,{releaseScheduledRetainablesNow:t4}=tr,{freshSnapshot:t3}=tB,{useCallback:t6,useContext:t5,useEffect:t8,useMemo:t9,useRef:t7,useState:ne}=l;function nt(){throw h("This component must be used inside a <RecoilRoot> component.")}let nn=Object.freeze({storeID:tZ(),getState:nt,replaceState:nt,getGraph:nt,subscribeToTransactions:nt,addTransactionMetadata:nt}),nr=!1;function ni(e){if(nr)throw h("An atom update was triggered within the execution of a state updater function. State updater functions provided to Recoil must be pure functions.");let t=e.getState();if(null===t.nextTree){k("recoil_memory_managament_2020")&&k("recoil_release_on_cascading_update_killswitch_2021")&&t.commitDepth>0&&t4(e);let n=t.currentTree.version,r=t$();t.nextTree={...t.currentTree,version:r,stateID:r,dirtyAtoms:new Set,transactionMetadata:{}},t.graphsByVersion.set(r,tQ(f(t.graphsByVersion.get(n))))}}let ns=l.createContext({current:nn}),no=()=>t5(ns),na=l.createContext(null);function nl(e,t,n){let r=tG(e,n,n.dirtyAtoms);for(let e of r){let r=t.nodeToComponentSubscriptions.get(e);if(r)for(let[e,[t,i]]of r)i(n)}}function nu(e){let t=e.getState(),n=t.currentTree,r=n.dirtyAtoms;if(r.size){for(let[n,i]of t.nodeTransactionSubscriptions)if(r.has(n))for(let[t,n]of i)n(e);for(let[n,r]of t.transactionSubscriptions)r(e);(!t1().early||t.suspendedComponentResolvers.size>0)&&(nl(e,t,n),t.suspendedComponentResolvers.forEach(e=>e()),t.suspendedComponentResolvers.clear())}t.queuedComponentCallbacks_DEPRECATED.forEach(e=>e(n)),t.queuedComponentCallbacks_DEPRECATED.splice(0,t.queuedComponentCallbacks_DEPRECATED.length)}function nc({setNotifyBatcherOfChange:e}){let t=no(),[,n]=ne([]);return e(()=>n({})),t8(()=>(e(()=>n({})),()=>{e(()=>{})}),[e]),t8(()=>{Y.enqueueExecution("Batcher",()=>{!function(e){let t=e.getState();t.commitDepth++;try{let{nextTree:n}=t;if(null==n)return;t.previousTree=t.currentTree,t.currentTree=n,t.nextTree=null,nu(e),null!=t.previousTree?t.graphsByVersion.delete(t.previousTree.version):C("Ended batch with no previous state, which is unexpected","recoil"),t.previousTree=null,k("recoil_memory_managament_2020")&&null==n&&t4(e)}finally{t.commitDepth--}}(t.current)})}),null}let nh=0;function nd({initializeState_DEPRECATED:e,initializeState:t,store_INTERNAL:n,children:r}){let i;let s=e=>{let t=i.current.graphsByVersion;if(t.has(e))return f(t.get(e));let n=tY();return t.set(e,n),n},o=(e,t)=>{if(null==t){let{transactionSubscriptions:t}=d.current.getState(),n=nh++;return t.set(n,e),{release:()=>{t.delete(n)}}}{let{nodeTransactionSubscriptions:n}=d.current.getState();n.has(t)||n.set(t,new Map);let r=nh++;return f(n.get(t)).set(r,e),{release:()=>{let e=n.get(t);e&&(e.delete(r),0===e.size&&n.delete(t))}}}},a=e=>{for(let t of(ni(d.current),Object.keys(e)))f(d.current.getState().nextTree).transactionMetadata[t]=e[t]},u=e=>{let t;ni(d.current);let n=f(i.current.nextTree);try{nr=!0,t=e(n)}finally{nr=!1}t!==n&&(i.current.nextTree=t,t1().early&&nl(d.current,i.current,t),f(c.current)())},c=t7(null),h=t6(e=>{c.current=e},[c]),d=tH(()=>null!=n?n:{storeID:tZ(),getState:()=>i.current,replaceState:u,getGraph:s,subscribeToTransactions:o,addTransactionMetadata:a});null!=n&&(d.current=n),i=tH(()=>null!=e?function(e,t){let n=tW();return t({set:(t,r)=>{let i=n.currentTree,s=tX(e,i,t.key,r),o=new Set(s.keys()),a=i.nonvalidatedAtoms.clone();for(let e of o)a.delete(e);n.currentTree={...i,dirtyAtoms:tj(i.dirtyAtoms,o),atomValues:t2(i.atomValues,s),nonvalidatedAtoms:a}},setUnvalidatedAtomValues:e=>{e.forEach((e,t)=>{n.currentTree=tJ(n.currentTree,t,e)})}}),n}(d.current,e):null!=t?function(e){let t=t3(e),n=t.getStore_INTERNAL().getState();return t.retain(),n.nodeCleanupFunctions.forEach(e=>e()),n.nodeCleanupFunctions.clear(),n}(t):tW());let p=t9(()=>null==t0?void 0:t0(i,()=>i.current.currentTree.version),[i]);return t8(()=>{let e=d.current;for(let t of new Set(e.getState().knownAtoms))tq(e,t,"get");return()=>{for(let t of e.getState().knownAtoms)tK(e,t)}},[d]),l.createElement(ns.Provider,{value:d},l.createElement(na.Provider,{value:p},l.createElement(nc,{setNotifyBatcherOfChange:h}),r))}var nf={RecoilRoot:function(e){let{override:t,...n}=e,r=no();return!1===t&&r.current!==nn?e.children:l.createElement(nd,n)},useStoreRef:no,useRecoilMutableSource:function(){let e=t5(na);return null==e&&B("Attempted to use a Recoil hook outside of a <RecoilRoot>. <RecoilRoot> must be an ancestor of any component that uses Recoil hooks."),e},useRecoilStoreID:function(){return no().current.storeID},notifyComponents_FOR_TESTING:nl,sendEndOfBatchNotifications_FOR_TESTING:nu},np=function(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0,r=e.length;n<r;n++)if(e[n]!==t[n])return!1;return!0};let{useEffect:ng,useRef:nm}=l;var nv=function(e){let t=nm();return ng(()=>{t.current=e}),t.current};let{useStoreRef:ny}=nf,{SUSPENSE_TIMEOUT_MS:n_}=tr,{updateRetainCount:nw}=tr,{RetentionZone:nb}=ew,{useEffect:nT,useRef:nE}=l,{isSSR:nS}=tg;var nI=function(e){if(k("recoil_memory_managament_2020"))return function(e){let t=Array.isArray(e)?e:[e],n=t.map(e=>e instanceof nb?e:e.key),r=ny();nT(()=>{if(!k("recoil_memory_managament_2020"))return;let e=r.current;if(i.current&&!nS)window.clearTimeout(i.current),i.current=null;else for(let t of n)nw(e,t,1);return()=>{for(let t of n)nw(e,t,-1)}},[r,...n]);let i=nE(),s=nv(n);if(!nS&&(void 0===s||!np(s,n))){let e=r.current;for(let t of n)nw(e,t,1);if(s)for(let t of s)nw(e,t,-1);i.current&&window.clearTimeout(i.current),i.current=window.setTimeout(()=>{for(let t of(i.current=null,n))nw(e,t,-1)},n_)}}(e)},nR=function(){return"<component name not available>"};let{batchUpdates:nA}=th,{DEFAULT_VALUE:nk}=J,{currentRendererSupportsUseSyncExternalStore:nC,reactMode:nN,useMutableSource:nL,useSyncExternalStore:nO}=P,{useRecoilMutableSource:nD,useStoreRef:nP}=nf,{isRecoilValue:nM}=F,{AbstractRecoilValue:nU,getRecoilValueAsLoadable:nx,setRecoilValue:nV,setUnvalidatedRecoilValue:nF,subscribeToRecoilValue:nB}=e4,{useCallback:nj,useEffect:nz,useMemo:nH,useRef:n$,useState:nW}=l,{setByAddingToSet:nK}=eb,{isSSR:nG}=tg;function nq(e,t,n){if("hasValue"===e.state)return e.contents;if("loading"===e.state){let t=new Promise(t=>{let r=n.current.getState().suspendedComponentResolvers;r.add(t),nG&&d(e.contents)&&e.contents.finally(()=>{r.delete(t)})});throw t}if("hasError"===e.state)throw e.contents;throw h(`Invalid value of loadable atom "${t.key}"`)}function nX(e){let t=nP(),n=nR(),r=nj(()=>{var n;let r=t.current,i=r.getState(),s=nN().early&&null!==(n=i.nextTree)&&void 0!==n?n:i.currentTree,o=nx(r,e,s);return{loadable:o,key:e.key}},[t,e]),i=nj(e=>{let t;return()=>{var n,r;let i=e();return null!==(n=t)&&void 0!==n&&n.loadable.is(i.loadable)&&(null===(r=t)||void 0===r?void 0:r.key)===i.key?t:(t=i,i)}},[]),s=nH(()=>i(r),[r,i]),o=nj(r=>{let i=t.current,s=nB(i,e,r,n);return s.release},[t,e,n]);return nO(o,s,s).loadable}function nJ(e){let t=nP(),n=nj(()=>{var n;let r=t.current,i=r.getState(),s=nN().early&&null!==(n=i.nextTree)&&void 0!==n?n:i.currentTree;return nx(r,e,s)},[t,e]),r=nj(()=>n(),[n]),i=nR(),s=nj((r,s)=>{let o=t.current,a=nB(o,e,()=>{if(!k("recoil_suppress_rerender_in_callback"))return s();let e=n();l.current.is(e)||s(),l.current=e},i);return a.release},[t,e,i,n]),o=nD();if(null==o)throw h("Recoil hooks must be used in components contained within a <RecoilRoot> component.");let a=nL(o,r,s),l=n$(a);return nz(()=>{l.current=a}),a}function nY(e){let t=nP(),n=nR(),r=nj(()=>{var n;let r=t.current,i=r.getState(),s=nN().early&&null!==(n=i.nextTree)&&void 0!==n?n:i.currentTree;return nx(r,e,s)},[t,e]),i=nj(()=>({loadable:r(),key:e.key}),[r,e.key]),s=nj(e=>{let t=i();return e.loadable.is(t.loadable)&&e.key===t.key?e:t},[i]);nz(()=>{let r=nB(t.current,e,e=>{a(s)},n);return a(s),r.release},[n,e,t,s]);let[o,a]=nW(i);return o.key!==e.key?i().loadable:o.loadable}function nQ(e){let t=nP(),[,n]=nW([]),r=nR(),i=nj(()=>{var n;let r=t.current,i=r.getState(),s=nN().early&&null!==(n=i.nextTree)&&void 0!==n?n:i.currentTree;return nx(r,e,s)},[t,e]),s=i(),o=n$(s);return nz(()=>{o.current=s}),nz(()=>{let s=t.current,a=s.getState(),l=nB(s,e,e=>{var t;if(!k("recoil_suppress_rerender_in_callback"))return n([]);let r=i();null!==(t=o.current)&&void 0!==t&&t.is(r)||n(r),o.current=r},r);if(a.nextTree)s.getState().queuedComponentCallbacks_DEPRECATED.push(()=>{o.current=null,n([])});else{var u;if(!k("recoil_suppress_rerender_in_callback"))return n([]);let e=i();null!==(u=o.current)&&void 0!==u&&u.is(e)||n(e),o.current=e}return l.release},[r,i,e,t]),s}function nZ(e){return k("recoil_memory_managament_2020")&&nI(e),({TRANSITION_SUPPORT:nY,SYNC_EXTERNAL_STORE:nC()?nX:nY,MUTABLE_SOURCE:nJ,LEGACY:nQ})[nN().mode](e)}function n0(e){let t=nP(),n=nZ(e);return nq(n,e,t)}function n1(e){let t=nP();return nj(n=>{nV(t.current,e,n)},[t,e])}function n2(e){return k("recoil_memory_managament_2020")&&nI(e),nY(e)}function n4(e){let t=nP(),n=n2(e);return nq(n,e,t)}var n3=function(e,t){let n=new Map;for(let[r,i]of e)t(i,r)&&n.set(r,i);return n},n6=function(e,t){let n=new Set;for(let r of e)t(r)&&n.add(r);return n},n5=function(...e){let t=new Map;for(let n=0;n<e.length;n++){let r;let i=e[n].keys();for(;!(r=i.next()).done;)t.set(r.value,e[n].get(r.value))}return t};let{batchUpdates:n8}=th,{DEFAULT_VALUE:n9,getNode:n7,nodes:re}=J,{useStoreRef:rt}=nf,{AbstractRecoilValue:rn,setRecoilValueLoadable:rr}=e4,{SUSPENSE_TIMEOUT_MS:ri}=tr,{cloneSnapshot:rs}=tB,{useCallback:ro,useEffect:ra,useRef:rl,useState:ru}=l,{isSSR:rc}=tg;function rh(e){let t=rt();ra(()=>{let n=t.current.subscribeToTransactions(e);return n.release},[e,t])}function rd(e){let t=e.atomValues.toMap(),n=ei(n3(t,(e,t)=>{let n=n7(t),r=n.persistence_UNSTABLE;return null!=r&&"none"!==r.type&&"hasValue"===e.state}),e=>e.contents);return n5(e.nonvalidatedAtoms.toMap(),n)}function rf(e,t){var n;let r=e.getState(),i=null!==(n=r.nextTree)&&void 0!==n?n:r.currentTree,s=t.getStore_INTERNAL().getState().currentTree;n8(()=>{let n=new Set;for(let e of[i.atomValues.keys(),s.atomValues.keys()])for(let t of e){var r,o;(null===(r=i.atomValues.get(t))||void 0===r?void 0:r.contents)!==(null===(o=s.atomValues.get(t))||void 0===o?void 0:o.contents)&&n7(t).shouldRestoreFromSnapshots&&n.add(t)}n.forEach(t=>{rr(e,new rn(t),s.atomValues.has(t)?f(s.atomValues.get(t)):n9)}),e.replaceState(e=>({...e,stateID:t.getID()}))})}var rp={useRecoilSnapshot:function(){let e=rt(),[t,n]=ru(()=>rs(e.current)),r=nv(t),i=rl(),s=rl();if(rh(ro(e=>n(rs(e)),[])),ra(()=>{let e=t.retain();if(i.current&&!rc){var n;window.clearTimeout(i.current),i.current=null,null===(n=s.current)||void 0===n||n.call(s),s.current=null}return()=>{window.setTimeout(e,10)}},[t]),r!==t&&!rc){if(i.current){var o;window.clearTimeout(i.current),i.current=null,null===(o=s.current)||void 0===o||o.call(s),s.current=null}s.current=t.retain(),i.current=window.setTimeout(()=>{var e;i.current=null,null===(e=s.current)||void 0===e||e.call(s),s.current=null},ri)}return t},gotoSnapshot:rf,useGotoRecoilSnapshot:function(){let e=rt();return ro(t=>rf(e.current,t),[e])},useRecoilTransactionObserver:function(e){rh(ro(t=>{let n=rs(t,"latest"),r=rs(t,"previous");e({snapshot:n,previousSnapshot:r})},[e]))},useTransactionObservation_DEPRECATED:function(e){rh(ro(t=>{let n=t.getState().previousTree,r=t.getState().currentTree;n||(C("Transaction subscribers notified without a previous tree being present -- this is a bug in Recoil"),n=t.getState().currentTree);let i=rd(r),s=rd(n),o=ei(re,e=>{var t,n,r,i;return{persistence_UNSTABLE:{type:null!==(t=null===(n=e.persistence_UNSTABLE)||void 0===n?void 0:n.type)&&void 0!==t?t:"none",backButton:null!==(r=null===(i=e.persistence_UNSTABLE)||void 0===i?void 0:i.backButton)&&void 0!==r&&r}}}),a=n6(r.dirtyAtoms,e=>i.has(e)||s.has(e));e({atomValues:i,previousAtomValues:s,atomInfo:o,modifiedAtoms:a,transactionMetadata:{...r.transactionMetadata}})},[e]))},useTransactionSubscription_DEPRECATED:rh};let{peekNodeInfo:rg}=eP,{useStoreRef:rm}=nf,{reactMode:rv}=P,{RecoilRoot:ry,useStoreRef:r_}=nf,{useMemo:rw}=l,{loadableWithValue:rb}=R,{initializeNode:rT}=eP,{DEFAULT_VALUE:rE,getNode:rS}=J,{copyTreeState:rI,getRecoilValueAsLoadable:rR,invalidateDownstreams:rA,writeLoadableToTreeState:rk}=e4;function rC(e){return"atom"===rS(e.key).nodeType}class rN{constructor(e,t){p(this,"_store",void 0),p(this,"_treeState",void 0),p(this,"_changes",void 0),p(this,"get",e=>{if(this._changes.has(e.key))return this._changes.get(e.key);if(!rC(e))throw h("Reading selectors within atomicUpdate is not supported");let t=rR(this._store,e,this._treeState);if("hasValue"===t.state)return t.contents;if("hasError"===t.state)throw t.contents;throw h(`Expected Recoil atom ${e.key} to have a value, but it is in a loading state.`)}),p(this,"set",(e,t)=>{if(!rC(e))throw h("Setting selectors within atomicUpdate is not supported");if("function"==typeof t){let n=this.get(e);this._changes.set(e.key,t(n))}else rT(this._store,e.key,"set"),this._changes.set(e.key,t)}),p(this,"reset",e=>{this.set(e,rE)}),this._store=e,this._treeState=t,this._changes=new Map}newTreeState_INTERNAL(){if(0===this._changes.size)return this._treeState;let e=rI(this._treeState);for(let[t,n]of this._changes)rk(e,t,rb(n));return rA(this._store,e),e}}var rL=Object.freeze({__proto__:null,atomicUpdater:function(e){return t=>{e.replaceState(n=>{let r=new rN(e,n);return t(r),r.newTreeState_INTERNAL()})}}}),rO=function(e,t){if(!e)throw Error(t)};let{atomicUpdater:rD}=rL,{batchUpdates:rP}=th,{DEFAULT_VALUE:rM}=J,{useStoreRef:rU}=nf,{refreshRecoilValue:rx,setRecoilValue:rV}=e4,{cloneSnapshot:rF}=tB,{gotoSnapshot:rB}=rp,{useCallback:rj}=l;class rz{}let rH=new rz;function r$(e,t,n,r){let i,s=rH;if(rP(()=>{let o="useRecoilCallback() expects a function that returns a function: it accepts a function of the type (RecoilInterface) => (Args) => ReturnType and returns a callback function (Args) => ReturnType, where RecoilInterface is an object {snapshot, set, ...} and Args and ReturnType are the argument and return types of the callback you want to create.  Please see the docs at recoiljs.org for details.";if("function"!=typeof t)throw h(o);let a=eE({...null!=r?r:{},set:(t,n)=>rV(e,t,n),reset:t=>rV(e,t,rM),refresh:t=>rx(e,t),gotoSnapshot:t=>rB(e,t),transact_UNSTABLE:t=>rD(e)(t)},{snapshot:()=>{let t=rF(e);return i=t.retain(),t}}),l=t(a);if("function"!=typeof l)throw h(o);s=l(...n)}),s instanceof rz&&rO(!1),d(s))s=s.finally(()=>{var e;null===(e=i)||void 0===e||e()});else{var o;null===(o=i)||void 0===o||o()}return s}var rW={recoilCallback:r$,useRecoilCallback:function(e,t){let n=rU();return rj((...t)=>r$(n.current,e,t),null!=t?[...t,n]:void 0)}};let{useStoreRef:rK}=nf,{refreshRecoilValue:rG}=e4,{useCallback:rq}=l,{atomicUpdater:rX}=rL,{useStoreRef:rJ}=nf,{useMemo:rY}=l;var rQ=Object.freeze({__proto__:null,WrappedValue:{WrappedValue:class{constructor(e){p(this,"value",void 0),this.value=e}}}.WrappedValue});let{isFastRefreshEnabled:rZ}=P;class r0 extends Error{}var r1=Object.freeze({__proto__:null,TreeCache:{TreeCache:class{constructor(e){var t,n,r;p(this,"_name",void 0),p(this,"_numLeafs",void 0),p(this,"_root",void 0),p(this,"_onHit",void 0),p(this,"_onSet",void 0),p(this,"_mapNodeValue",void 0),this._name=null==e?void 0:e.name,this._numLeafs=0,this._root=null,this._onHit=null!==(t=null==e?void 0:e.onHit)&&void 0!==t?t:()=>{},this._onSet=null!==(n=null==e?void 0:e.onSet)&&void 0!==n?n:()=>{},this._mapNodeValue=null!==(r=null==e?void 0:e.mapNodeValue)&&void 0!==r?r:e=>e}size(){return this._numLeafs}root(){return this._root}get(e,t){var n;return null===(n=this.getLeafNode(e,t))||void 0===n?void 0:n.value}getLeafNode(e,t){if(null==this._root)return;let n=this._root;for(;n;){if(null==t||t.onNodeVisit(n),"leaf"===n.type)return this._onHit(n),n;let r=this._mapNodeValue(e(n.nodeKey));n=n.branches.get(r)}}set(e,t,n){let r=()=>{var r,i,s,o,a,l,u;let c,h;for(let[t,r]of e){let e=this._root;if((null==e?void 0:e.type)==="leaf")throw this.invalidCacheError();let i=c;if("branch"!==(c=null!==(a=c=i?i.branches.get(h):e)&&void 0!==a?a:{type:"branch",nodeKey:t,parent:i,branches:new Map,branchKey:h}).type||c.nodeKey!==t)throw this.invalidCacheError();null==i||i.branches.set(h,c),null==n||null===(l=n.onNodeVisit)||void 0===l||l.call(n,c),h=this._mapNodeValue(r),this._root=null!==(u=this._root)&&void 0!==u?u:c}let d=c?null===(r=c)||void 0===r?void 0:r.branches.get(h):this._root;if(null!=d&&("leaf"!==d.type||d.branchKey!==h))throw this.invalidCacheError();let f={type:"leaf",value:t,parent:c,branchKey:h};null===(i=c)||void 0===i||i.branches.set(h,f),this._root=null!==(s=this._root)&&void 0!==s?s:f,this._numLeafs++,this._onSet(f),null==n||null===(o=n.onNodeVisit)||void 0===o||o.call(n,f)};try{r()}catch(e){if(e instanceof r0)this.clear(),r();else throw e}}delete(e){let t=this.root();if(!t)return!1;if(e===t)return this._root=null,this._numLeafs=0,!0;let n=e.parent,r=e.branchKey;for(;n;){var i;if(n.branches.delete(r),n===t)return 0===n.branches.size?(this._root=null,this._numLeafs=0):this._numLeafs--,!0;if(n.branches.size>0)break;r=null===(i=n)||void 0===i?void 0:i.branchKey,n=n.parent}for(;n!==t;n=n.parent)if(null==n)return!1;return this._numLeafs--,!0}clear(){this._numLeafs=0,this._root=null}invalidCacheError(){let e=rZ()?"Possible Fast Refresh module reload detected.  This may also be caused by an selector returning inconsistent values. Resetting cache.":"Invalid cache values.  This happens when selectors do not return consistent values for the same input dependency values.  That may also be caused when using Fast Refresh to change a selector implementation.  Resetting cache.";throw C(e+(null!=this._name?` - ${this._name}`:"")),new r0}}}.TreeCache}),r2=Object.freeze({__proto__:null,LRUCache:{LRUCache:class{constructor(e){var t;p(this,"_maxSize",void 0),p(this,"_size",void 0),p(this,"_head",void 0),p(this,"_tail",void 0),p(this,"_map",void 0),p(this,"_keyMapper",void 0),this._maxSize=e.maxSize,this._size=0,this._head=null,this._tail=null,this._map=new Map,this._keyMapper=null!==(t=e.mapKey)&&void 0!==t?t:e=>e}head(){return this._head}tail(){return this._tail}size(){return this._size}maxSize(){return this._maxSize}has(e){return this._map.has(this._keyMapper(e))}get(e){let t=this._keyMapper(e),n=this._map.get(t);if(n)return this.set(e,n.value),n.value}set(e,t){let n=this._keyMapper(e),r=this._map.get(n);r&&this.delete(e);let i=this.head(),s={key:e,right:i,left:null,value:t};i?i.left=s:this._tail=s,this._map.set(n,s),this._head=s,this._size++,this._maybeDeleteLRU()}_maybeDeleteLRU(){this.size()>this.maxSize()&&this.deleteLru()}deleteLru(){let e=this.tail();e&&this.delete(e.key)}delete(e){let t=this._keyMapper(e);if(!this._size||!this._map.has(t))return;let n=f(this._map.get(t)),r=n.right,i=n.left;r&&(r.left=n.left),i&&(i.right=n.right),n===this.head()&&(this._head=r),n===this.tail()&&(this._tail=i),this._map.delete(t),this._size--}clear(){this._size=0,this._head=null,this._tail=null,this._map=new Map}}}.LRUCache});let{LRUCache:r4}=r2,{TreeCache:r3}=r1;var r6=function({name:e,maxSize:t,mapNodeValue:n=e=>e}){let r=new r4({maxSize:t}),i=new r3({name:e,mapNodeValue:n,onHit:e=>{r.set(e,!0)},onSet:e=>{let n=r.tail();r.set(e,!0),n&&i.size()>t&&i.delete(n.key)}});return i};function r5(e,t,n){if("string"==typeof e&&!e.includes('"')&&!e.includes("\\"))return`"${e}"`;switch(typeof e){case"undefined":return"";case"boolean":return e?"true":"false";case"number":case"symbol":return String(e);case"string":return JSON.stringify(e);case"function":if((null==t?void 0:t.allowFunctions)!==!0)throw h("Attempt to serialize function in a Recoil cache key");return`__FUNCTION(${e.name})__`}if(null===e)return"null";if("object"!=typeof e){var r;return null!==(r=JSON.stringify(e))&&void 0!==r?r:""}if(d(e))return"__PROMISE__";if(Array.isArray(e))return`[${e.map((e,n)=>r5(e,t,n.toString()))}]`;if("function"==typeof e.toJSON)return r5(e.toJSON(n),t,n);if(e instanceof Map){let r={};for(let[n,i]of e)r["string"==typeof n?n:r5(n,t)]=i;return r5(r,t,n)}return e instanceof Set?r5(Array.from(e).sort((e,n)=>r5(e,t).localeCompare(r5(n,t))),t,n):void 0!==Symbol&&null!=e[Symbol.iterator]&&"function"==typeof e[Symbol.iterator]?r5(Array.from(e),t,n):`{${Object.keys(e).filter(t=>void 0!==e[t]).sort().map(n=>`${r5(n,t)}:${r5(e[n],t,n)}`).join(",")}}`}var r8=function(e,t={allowFunctions:!1}){return r5(e,t)};let{TreeCache:r9}=r1,r7={equality:"reference",eviction:"keep-all",maxSize:1/0};var ie=function({equality:e=r7.equality,eviction:t=r7.eviction,maxSize:n=r7.maxSize}=r7,r){let i=function(e){switch(e){case"reference":return e=>e;case"value":return e=>r8(e)}throw h(`Unrecognized equality policy ${e}`)}(e);return function(e,t,n,r){switch(e){case"keep-all":return new r9({name:r,mapNodeValue:n});case"lru":return r6({name:r,maxSize:f(t),mapNodeValue:n});case"most-recent":return r6({name:r,maxSize:1,mapNodeValue:n})}throw h(`Unrecognized eviction policy ${e}`)}(t,n,i,r)};let{isReactNative:it,isWindow:ir}=tg,{isLoadable:ii,loadableWithError:is,loadableWithPromise:io,loadableWithValue:ia}=R,{WrappedValue:il}=rQ,{getNodeLoadable:iu,peekNodeLoadable:ic,setNodeValue:ih}=eP,{saveDepsToStore:id}=eo,{DEFAULT_VALUE:ip,getConfigDeletionHandler:ig,getNode:im,registerNode:iv}=J,{isRecoilValue:iy}=F,{markRecoilValueModified:i_}=e4,{retainedByOptionWithDefault:iw}=tr,{recoilCallback:ib}=rW,{startPerfBlock:iT}={startPerfBlock:function(e){return()=>null}};class iE{}let iS=new iE,iI=[],iR=new Map,iA=(r=0,()=>r++);function ik(e){let t=null,{key:n,get:r,cachePolicy_UNSTABLE:i}=e,s=null!=e.set?e.set:void 0,o=new Set,a=ie(null!=i?i:{equality:"reference",eviction:"keep-all"},n),l=iw(e.retainedBy_UNSTABLE),u=new Map,c=0;function p(){return!k("recoil_memory_managament_2020")||c>0}function g(e){return e.getState().knownSelectors.add(n),c++,()=>{c--}}function m(){return void 0!==ig(n)&&!p()}function v(e,t){A(e,t)&&R(e),y(t,!0)}function y(e,n){let r=iR.get(e);if(null!=r){for(let e of r)i_(e,f(t));n&&iR.delete(e)}}function _(e,t){let n=iR.get(t);null==n&&iR.set(t,n=new Set),n.add(e)}function w(e,t,n,r,i,s){return t.then(r=>{if(!p())throw R(e),iS;null!=s.loadingDepKey&&s.loadingDepPromise===t?n.atomValues.set(s.loadingDepKey,ia(r)):e.getState().knownSelectors.forEach(e=>{n.atomValues.delete(e)});let o=E(e,n);if(o&&"loading"!==o.state){if((A(e,i)||null==I(e))&&v(e,i),"hasValue"===o.state)return o.contents;throw o.contents}if(!A(e,i)){let t=S(e,n);if(null!=t)return t.loadingLoadable.contents}let[a,l]=T(e,n,i);if("loading"!==a.state&&(N(n,a,l),v(e,i)),"hasError"===a.state)throw a.contents;return a.contents}).catch(t=>{if(t instanceof iE)throw iS;if(!p())throw R(e),iS;let s=is(t);throw N(n,s,r),v(e,i),t})}function b(e,t,r,i){var s,a,l,u,c,h,d;for(let f of((A(e,i)||t.version===(null===(s=e.getState())||void 0===s?void 0:null===(a=s.currentTree)||void 0===a?void 0:a.version)||t.version===(null===(l=e.getState())||void 0===l?void 0:null===(u=l.nextTree)||void 0===u?void 0:u.version))&&id(n,r,e,null!==(c=null===(h=e.getState())||void 0===h?void 0:null===(d=h.nextTree)||void 0===d?void 0:d.version)&&void 0!==c?c:e.getState().currentTree.version),r))o.add(f)}function T(e,i,s){let o,a;let l=iT(n),u=!0,c=!0,g=()=>{l(),c=!1},m=!1,_={loadingDepKey:null,loadingDepPromise:null},T=new Map;function E({key:t}){let n=iu(e,i,t);switch(T.set(t,n),u||(b(e,i,new Set(T.keys()),s),function(e,t){if(A(e,t)){let n=f(I(e));n.stateVersions.clear(),y(t,!1)}}(e,s)),n.state){case"hasValue":return n.contents;case"hasError":throw n.contents;case"loading":throw _.loadingDepKey=t,_.loadingDepPromise=n.contents,n.contents}throw h("Invalid Loadable state")}let S=n=>(...r)=>{if(c)throw h("Callbacks from getCallback() should only be called asynchronously after the selector is evalutated.  It can be used for selectors to return objects with callbacks that can work with Recoil state without a subscription.");return null!=t||rO(!1),ib(e,n,r,{node:t})};try{(o=r({get:E,getCallback:S}),o=iy(o)?E(o):o,ii(o)&&("hasError"===o.state&&(m=!0),o=o.contents),d(o))?o=o.then(t=>{if(!p())throw R(e),iS;let n=ia(t);return N(i,n,T),v(e,s),t}).catch(t=>{if(!p())throw R(e),iS;if(d(t))return w(e,t,i,T,s,_);let n=is(t);throw N(i,n,T),v(e,s),t}).finally(g):g(),o=o instanceof il?o.value:o}catch(t){d(o=t)?o=w(e,o,i,T,s,_).finally(g):(m=!0,g())}return a=m?is(o):d(o)?io(o):ia(o),u=!1,function(e,t,n){if(A(e,t)){let t=I(e);null!=t&&(t.depValuesDiscoveredSoFarDuringAsyncWork=n)}}(e,s,T),b(e,i,new Set(T.keys()),s),[a,T]}function E(e,t){let r=t.atomValues.get(n);if(null!=r)return r;let i=new Set;try{r=a.get(n=>("string"!=typeof n&&rO(!1),iu(e,t,n).contents),{onNodeVisit:e=>{"branch"===e.type&&e.nodeKey!==n&&i.add(e.nodeKey)}})}catch(e){throw h(`Problem with cache lookup for selector "${n}": ${e.message}`)}if(r){var s;t.atomValues.set(n,r),b(e,t,i,null===(s=I(e))||void 0===s?void 0:s.executionID)}return r}function S(e,t){let n=td([u.has(e)?[f(u.get(e))]:[],j(eT(u,([t])=>t!==e),([,e])=>e)]);for(let r of n){if(r.stateVersions.get(t.version)||!function(n){for(let[r,i]of n)if(!iu(e,t,r).is(i))return!0;return!1}(r.depValuesDiscoveredSoFarDuringAsyncWork))return r.stateVersions.set(t.version,!0),r;r.stateVersions.set(t.version,!1)}}function I(e){return u.get(e)}function R(e){u.delete(e)}function A(e,t){var n;return t===(null===(n=I(e))||void 0===n?void 0:n.executionID)}function N(e,t,r){e.atomValues.set(n,t);try{a.set(Array.from(r.entries()).map(([e,t])=>[e,t.contents]),t)}catch(e){throw h(`Problem with setting cache for selector "${n}": ${e.message}`)}}function L(e,t){let r=t.atomValues.get(n);return null!=r?r:a.get(n=>{var r;return"string"!=typeof n&&rO(!1),null===(r=ic(e,t,n))||void 0===r?void 0:r.contents})}function O(e,t){return function(e){if(iI.includes(n)){let e=`Recoil selector has circular dependencies: ${iI.slice(iI.indexOf(n)).join("  ")}`;return is(h(e))}iI.push(n);try{return e()}finally{iI.pop()}}(()=>(function(e,t){var n;let r=E(e,t);if(null!=r)return R(e),r;let i=S(e,t);if(null!=i)return(null===(n=i.loadingLoadable)||void 0===n?void 0:n.state)==="loading"&&_(e,i.executionID),i.loadingLoadable;let s=iA(),[o,a]=T(e,t,s);return"loading"===o.state?(u.set(e,{depValuesDiscoveredSoFarDuringAsyncWork:a,executionID:s,loadingLoadable:o,stateVersions:new Map([[t.version,!0]])}),_(e,s)):(R(e),N(t,o,a)),o})(e,t))}function D(e){e.atomValues.delete(n)}function P(e,n){for(let i of(null!=t||rO(!1),o)){var r;let t=im(i);null===(r=t.clearCache)||void 0===r||r.call(t,e,n)}o.clear(),D(n),a.clear(),i_(e,t)}if(null==s)return t=iv({key:n,nodeType:"selector",peek:L,get:O,init:g,invalidate:D,clearCache:P,shouldDeleteConfigOnRelease:m,dangerouslyAllowMutability:e.dangerouslyAllowMutability,shouldRestoreFromSnapshots:!1,retainedBy:l});{let r=(e,t,r)=>{let i=!1,o=new Map;function a({key:r}){if(i)throw h("Recoil: Async selector sets are not currently supported.");let s=iu(e,t,r);if("hasValue"===s.state)return s.contents;if("loading"===s.state){let e=`Getting value of asynchronous atom or selector "${r}" in a pending state while setting selector "${n}" is not yet supported.`;throw C(e),h(e)}throw s.contents}function l(n,r){if(i){let e="Recoil: Async selector sets are not currently supported.";throw C(e),h(e)}let s="function"==typeof r?r(a(n)):r,l=ih(e,t,n.key,s);l.forEach((e,t)=>o.set(t,e))}let u=s({set:l,get:a,reset:function(e){l(e,ip)}},r);if(void 0!==u)throw d(u)?h("Recoil: Async selector sets are not currently supported."):h("Recoil: selector set should be a void function.");return i=!0,o};return t=iv({key:n,nodeType:"selector",peek:L,get:O,set:r,init:g,invalidate:D,clearCache:P,shouldDeleteConfigOnRelease:m,dangerouslyAllowMutability:e.dangerouslyAllowMutability,shouldRestoreFromSnapshots:!1,retainedBy:l})}}ik.value=e=>new il(e);let{isLoadable:iC,loadableWithError:iN,loadableWithPromise:iL,loadableWithValue:iO}=R,{WrappedValue:iD}=rQ,{peekNodeInfo:iP}=eP,{DEFAULT_VALUE:iM,DefaultValue:iU,getConfigDeletionHandler:ix,registerNode:iV,setConfigDeletionHandler:iF}=J,{isRecoilValue:iB}=F,{getRecoilValueAsLoadable:ij,markRecoilValueModified:iz,setRecoilValue:iH,setRecoilValueLoadable:i$}=e4,{retainedByOptionWithDefault:iW}=tr,iK=e=>e instanceof iD?e.value:e;function iG(e){let{...t}=e,n="default"in e?e.default:new Promise(()=>{});return iB(n)?function(e){let t=iG({...e,default:iM,persistence_UNSTABLE:void 0===e.persistence_UNSTABLE?void 0:{...e.persistence_UNSTABLE,validator:t=>t instanceof iU?t:f(e.persistence_UNSTABLE).validator(t,iM)},effects:e.effects,effects_UNSTABLE:e.effects_UNSTABLE}),n=ik({key:`${e.key}__withFallback`,get:({get:n})=>{let r=n(t);return r instanceof iU?e.default:r},set:({set:e},n)=>e(t,n),cachePolicy_UNSTABLE:{eviction:"most-recent"},dangerouslyAllowMutability:e.dangerouslyAllowMutability});return iF(n.key,ix(e.key)),n}({...t,default:n}):function(e){var t;let n;let{key:r,persistence_UNSTABLE:i}=e,s=iW(e.retainedBy_UNSTABLE),o=0;function a(e){return iL(e.then(e=>(l=iO(e),e)).catch(e=>{throw l=iN(e),e}))}let l=d(e.default)?a(e.default):iC(e.default)?"loading"===e.default.state?a(e.default.contents):e.default:iO(iK(e.default));l.contents;let u=new Map;function c(e,t){var i,s;return null!==(i=null!==(s=t.atomValues.get(r))&&void 0!==s?s:n)&&void 0!==i?i:l}let p=iV({key:r,nodeType:"atom",peek:c,get:function(e,t){if(t.atomValues.has(r))return f(t.atomValues.get(r));if(!t.nonvalidatedAtoms.has(r))return l;{if(null!=n)return n;if(null==i)return B(`Tried to restore a persisted value for atom ${r} but it has no persistence settings.`),l;let e=t.nonvalidatedAtoms.get(r),s=i.validator(e,iM),o=s instanceof iU?l:iO(s);return n=o}},set:function(e,t,i){if(t.atomValues.has(r)){let e=f(t.atomValues.get(r));if("hasValue"===e.state&&i===e.contents)return new Map}else if(!t.nonvalidatedAtoms.has(r)&&i instanceof iU)return new Map;return n=void 0,new Map().set(r,iO(i))},init:function(t,n,i){var s,a,f;o++;let g=()=>{var e;o--,null===(e=u.get(t))||void 0===e||e.forEach(e=>e()),u.delete(t)};if(t.getState().knownAtoms.add(r),"loading"===l.state){let e=()=>{var e;let n=null!==(e=t.getState().nextTree)&&void 0!==e?e:t.getState().currentTree;n.atomValues.has(r)||iz(t,p)};l.contents.finally(e)}let m=null!==(s=e.effects)&&void 0!==s?s:e.effects_UNSTABLE;if(null!=m){let e=iM,s=!0,o=!1,g=null;function v(i){if(s&&i.key===r){let r=e;return r instanceof iU?c(t,n):d(r)?iL(r.then(e=>e instanceof iU?l.toPromise():e)):iO(r)}return ij(t,i)}function y(e){return v(e).toPromise()}function _(n){var i;let o=iP(t,null!==(i=t.getState().nextTree)&&void 0!==i?i:t.getState().currentTree,n.key);return!s||n.key!==r||e instanceof iU?o:{...o,isSet:!0,loadable:v(n)}}let w=n=>r=>{if(s){let t=v(p),i="hasValue"===t.state?t.contents:iM;d(e="function"==typeof r?r(i):r)&&(e=e.then(e=>(g={effect:n,value:e},e)))}else{if(d(r))throw h("Setting atoms to async values is not implemented.");"function"!=typeof r&&(g={effect:n,value:iK(r)}),iH(t,p,"function"==typeof r?e=>{let t=iK(r(e));return g={effect:n,value:t},t}:iK(r))}},b=e=>()=>w(e)(iM),T=e=>n=>{var i;let{release:s}=t.subscribeToTransactions(t=>{var i,s,o,a,u;let{currentTree:c,previousTree:h}=t.getState();h||(C("Transaction subscribers notified without a next tree being present -- this is a bug in Recoil"),h=c);let d=null!==(i=c.atomValues.get(r))&&void 0!==i?i:l;if("hasValue"===d.state){let t=d.contents,i=null!==(s=h.atomValues.get(r))&&void 0!==s?s:l,f="hasValue"===i.state?i.contents:iM;(null===(o=g)||void 0===o?void 0:o.effect)!==e||(null===(a=g)||void 0===a?void 0:a.value)!==t?n(t,f,!c.atomValues.has(r)):(null===(u=g)||void 0===u?void 0:u.effect)===e&&(g=null)}},r);u.set(t,[...null!==(i=u.get(t))&&void 0!==i?i:[],s])};for(let n of m)try{let e=n({node:p,storeID:t.storeID,parentStoreID_UNSTABLE:t.parentStoreID,trigger:i,setSelf:w(n),resetSelf:b(n),onSet:T(n),getPromise:y,getLoadable:v,getInfo_UNSTABLE:_});null!=e&&u.set(t,[...null!==(a=u.get(t))&&void 0!==a?a:[],e])}catch(t){e=t,o=!0}if(s=!1,!(e instanceof iU)){let i=o?iN(e):d(e)?iL(function(e,t){let n=t.then(t=>{var i,s;let o=null!==(i=e.getState().nextTree)&&void 0!==i?i:e.getState().currentTree;return(null===(s=o.atomValues.get(r))||void 0===s?void 0:s.contents)===n&&iH(e,p,t),t}).catch(t=>{var i,s;let o=null!==(i=e.getState().nextTree)&&void 0!==i?i:e.getState().currentTree;throw(null===(s=o.atomValues.get(r))||void 0===s?void 0:s.contents)===n&&i$(e,p,iN(t)),t});return n}(t,e)):iO(iK(e));i.contents,n.atomValues.set(r,i),null===(f=t.getState().nextTree)||void 0===f||f.atomValues.set(r,i)}}return g},invalidate:function(){n=void 0},shouldDeleteConfigOnRelease:function(){return void 0!==ix(r)&&o<=0},dangerouslyAllowMutability:e.dangerouslyAllowMutability,persistence_UNSTABLE:e.persistence_UNSTABLE?{type:e.persistence_UNSTABLE.type,backButton:e.persistence_UNSTABLE.backButton}:void 0,shouldRestoreFromSnapshots:!0,retainedBy:s});return p}({...t,default:n})}iG.value=e=>new iD(e);var iq=Object.freeze({__proto__:null,MapCache:{MapCache:class{constructor(e){var t;p(this,"_map",void 0),p(this,"_keyMapper",void 0),this._map=new Map,this._keyMapper=null!==(t=null==e?void 0:e.mapKey)&&void 0!==t?t:e=>e}size(){return this._map.size}has(e){return this._map.has(this._keyMapper(e))}get(e){return this._map.get(this._keyMapper(e))}set(e,t){this._map.set(this._keyMapper(e),t)}delete(e){this._map.delete(this._keyMapper(e))}clear(){this._map.clear()}}}.MapCache});let{LRUCache:iX}=r2,{MapCache:iJ}=iq,iY={equality:"reference",eviction:"none",maxSize:1/0};var iQ=function({equality:e=iY.equality,eviction:t=iY.eviction,maxSize:n=iY.maxSize}=iY){let r=function(e){switch(e){case"reference":return e=>e;case"value":return e=>r8(e)}throw h(`Unrecognized equality policy ${e}`)}(e),i=function(e,t,n){switch(e){case"keep-all":return new iJ({mapKey:n});case"lru":return new iX({mapKey:n,maxSize:f(t)});case"most-recent":return new iX({mapKey:n,maxSize:1})}throw h(`Unrecognized eviction policy ${e}`)}(t,n,r);return i};let{setConfigDeletionHandler:iZ}=J,{setConfigDeletionHandler:i0}=J,i1=0;var i2=function(e){var t,n;let r=iQ({equality:null!==(t=null===(n=e.cachePolicyForParams_UNSTABLE)||void 0===n?void 0:n.equality)&&void 0!==t?t:"value",eviction:"keep-all"});return t=>{var n;let i,s;try{i=r.get(t)}catch(t){throw h(`Problem with cache lookup for selector ${e.key}: ${t.message}`)}if(null!=i)return i;let o=`${e.key}__selectorFamily/${null!==(n=r8(t,{allowFunctions:!0}))&&void 0!==n?n:"void"}/${i1++}`,a=n=>e.get(t)(n),l=e.cachePolicy_UNSTABLE,u="function"==typeof e.retainedBy_UNSTABLE?e.retainedBy_UNSTABLE(t):e.retainedBy_UNSTABLE;if(null!=e.set){let n=e.set,r=(e,r)=>n(t)(e,r);s=ik({key:o,get:a,set:r,cachePolicy_UNSTABLE:l,dangerouslyAllowMutability:e.dangerouslyAllowMutability,retainedBy_UNSTABLE:u})}else s=ik({key:o,get:a,cachePolicy_UNSTABLE:l,dangerouslyAllowMutability:e.dangerouslyAllowMutability,retainedBy_UNSTABLE:u});return r.set(t,s),i0(s.key,()=>{r.delete(t)}),s}};let i4=i2({key:"__constant",get:e=>()=>e,cachePolicyForParams_UNSTABLE:{equality:"reference"}}),i3=i2({key:"__error",get:e=>()=>{throw h(e)},cachePolicyForParams_UNSTABLE:{equality:"reference"}}),{loadableWithError:i6,loadableWithPromise:i5,loadableWithValue:i8}=R;function i9(e,t){let n=Array(t.length).fill(void 0),r=Array(t.length).fill(void 0);for(let[i,s]of t.entries())try{n[i]=e(s)}catch(e){r[i]=e}return[n,r]}function i7(e){return null!=e&&!d(e)}function se(e){return Array.isArray(e)?e:Object.getOwnPropertyNames(e).map(t=>e[t])}function st(e,t){return Array.isArray(e)?t:Object.getOwnPropertyNames(e).reduce((e,n,r)=>({...e,[n]:t[r]}),{})}function sn(e,t,n){let r=n.map((e,n)=>null==e?i8(t[n]):d(e)?i5(e):i6(e));return st(e,r)}let sr=i2({key:"__waitForNone",get:e=>({get:t})=>{let n=se(e),[r,i]=i9(t,n);return sn(e,r,i)},dangerouslyAllowMutability:!0}),si=i2({key:"__waitForAny",get:e=>({get:t})=>{let n=se(e),[r,i]=i9(t,n);return i.some(e=>!d(e))?sn(e,r,i):new Promise(t=>{for(let[n,s]of i.entries())d(s)&&s.then(s=>{r[n]=s,i[n]=void 0,t(sn(e,r,i))}).catch(s=>{i[n]=s,t(sn(e,r,i))})})},dangerouslyAllowMutability:!0}),ss=i2({key:"__waitForAll",get:e=>({get:t})=>{let n=se(e),[r,i]=i9(t,n);if(i.every(e=>null==e))return st(e,r);let s=i.find(i7);if(null!=s)throw s;return Promise.all(i).then(t=>st(e,t.map((e,t)=>void 0===e?r[t]:e)))},dangerouslyAllowMutability:!0}),so=i2({key:"__waitForAllSettled",get:e=>({get:t})=>{let n=se(e),[r,i]=i9(t,n);return i.every(e=>!d(e))?sn(e,r,i):Promise.all(i.map((e,t)=>d(e)?e.then(e=>{r[t]=e,i[t]=void 0}).catch(e=>{r[t]=void 0,i[t]=e}):null)).then(()=>sn(e,r,i))},dangerouslyAllowMutability:!0}),sa=i2({key:"__noWait",get:e=>({get:t})=>{try{return ik.value(i8(t(e)))}catch(e){return ik.value(d(e)?i5(e):i6(e))}},dangerouslyAllowMutability:!0}),{RecoilLoadable:sl}=R,{DefaultValue:su}=J,{RecoilRoot:sc,useRecoilStoreID:sh}=nf,{isRecoilValue:sd}=F,{retentionZone:sf}=ew,{freshSnapshot:sp}=tB,{useRecoilState:sg,useRecoilState_TRANSITION_SUPPORT_UNSTABLE:sm,useRecoilStateLoadable:sv,useRecoilValue:sy,useRecoilValue_TRANSITION_SUPPORT_UNSTABLE:s_,useRecoilValueLoadable:sw,useRecoilValueLoadable_TRANSITION_SUPPORT_UNSTABLE:sb,useResetRecoilState:sT,useSetRecoilState:sE}={recoilComponentGetRecoilValueCount_FOR_TESTING:{current:0},useRecoilInterface:function(){let e=nR(),t=nP(),[,n]=nW([]),r=n$(new Set);r.current=new Set;let i=n$(new Set),s=n$(new Map),o=nj(e=>{let t=s.current.get(e);t&&(t.release(),s.current.delete(e))},[s]),a=nj((e,t)=>{s.current.has(t)&&n([])},[]);return nz(()=>{let n=t.current;er(r.current,i.current).forEach(t=>{if(s.current.has(t)){B(`Double subscription to RecoilValue "${t}"`);return}let r=nB(n,new nU(t),e=>a(e,t),e);s.current.set(t,r);let i=n.getState();i.nextTree?n.getState().queuedComponentCallbacks_DEPRECATED.push(()=>{a(n.getState(),t)}):a(n.getState(),t)}),er(i.current,r.current).forEach(e=>{o(e)}),i.current=r.current}),nz(()=>{let n=s.current;return er(r.current,new Set(n.keys())).forEach(r=>{let i=nB(t.current,new nU(r),e=>a(e,r),e);n.set(r,i)}),()=>n.forEach((e,t)=>o(t))},[e,t,o,a]),nH(()=>{function e(e){return n=>{nV(t.current,e,n)}}function n(e){var n;r.current.has(e.key)||(r.current=nK(r.current,e.key));let i=t.current.getState();return nx(t.current,e,nN().early&&null!==(n=i.nextTree)&&void 0!==n?n:i.currentTree)}function i(e){let r=n(e);return nq(r,e,t)}return{getRecoilValue:i,getRecoilValueLoadable:n,getRecoilState:function(t){return[i(t),e(t)]},getRecoilStateLoadable:function(t){return[n(t),e(t)]},getSetRecoilState:e,getResetRecoilState:function(e){return()=>nV(t.current,e,nk)}}},[r,t])},useRecoilState:function(e){return[n0(e),n1(e)]},useRecoilStateLoadable:function(e){return[nZ(e),n1(e)]},useRecoilValue:n0,useRecoilValueLoadable:nZ,useResetRecoilState:function(e){let t=nP();return nj(()=>{nV(t.current,e,nk)},[t,e])},useSetRecoilState:n1,useSetUnvalidatedAtomValues:function(){let e=nP();return(t,n={})=>{nA(()=>{e.current.addTransactionMetadata(n),t.forEach((t,n)=>nF(e.current,new nU(n),t))})}},useRecoilValueLoadable_TRANSITION_SUPPORT_UNSTABLE:n2,useRecoilValue_TRANSITION_SUPPORT_UNSTABLE:n4,useRecoilState_TRANSITION_SUPPORT_UNSTABLE:function(e){return[n4(e),n1(e)]}},{useGotoRecoilSnapshot:sS,useRecoilSnapshot:sI,useRecoilTransactionObserver:sR}=rp,{useRecoilCallback:sA}=rW,{noWait:sk,waitForAll:sC,waitForAllSettled:sN,waitForAny:sL,waitForNone:sO}={waitForNone:sr,waitForAny:si,waitForAll:ss,waitForAllSettled:so,noWait:sa};var sD={DefaultValue:su,isRecoilValue:sd,RecoilLoadable:sl,RecoilEnv:A,RecoilRoot:sc,useRecoilStoreID:sh,useRecoilBridgeAcrossReactRoots_UNSTABLE:function(){"MUTABLE_SOURCE"===rv().mode&&console.warn("Warning: There are known issues using useRecoilBridgeAcrossReactRoots() in recoil_mutable_source rendering mode.  Please consider upgrading to recoil_sync_external_store mode.");let e=r_().current;return rw(()=>function({children:t}){return l.createElement(ry,{store_INTERNAL:e},t)},[e])},atom:iG,selector:ik,atomFamily:function(e){var t,n;let r=iQ({equality:null!==(t=null===(n=e.cachePolicyForParams_UNSTABLE)||void 0===n?void 0:n.equality)&&void 0!==t?t:"value",eviction:"keep-all"});return t=>{var n,i;let s=r.get(t);if(null!=s)return s;let{cachePolicyForParams_UNSTABLE:o,...a}=e,l="default"in e?e.default:new Promise(()=>{}),u=iG({...a,key:`${e.key}__${null!==(n=r8(t))&&void 0!==n?n:"void"}`,default:"function"==typeof l?l(t):l,retainedBy_UNSTABLE:"function"==typeof e.retainedBy_UNSTABLE?e.retainedBy_UNSTABLE(t):e.retainedBy_UNSTABLE,effects:"function"==typeof e.effects?e.effects(t):"function"==typeof e.effects_UNSTABLE?e.effects_UNSTABLE(t):null!==(i=e.effects)&&void 0!==i?i:e.effects_UNSTABLE});return r.set(t,u),iZ(u.key,()=>{r.delete(t)}),u}},selectorFamily:i2,constSelector:function(e){return i4(e)},errorSelector:function(e){return i3(e)},readOnlySelector:function(e){return e},noWait:sk,waitForNone:sO,waitForAny:sL,waitForAll:sC,waitForAllSettled:sN,useRecoilValue:sy,useRecoilValueLoadable:sw,useRecoilState:sg,useRecoilStateLoadable:sv,useSetRecoilState:sE,useResetRecoilState:sT,useGetRecoilValueInfo_UNSTABLE:function(){let e=rm();return({key:t})=>rg(e.current,e.current.getState().currentTree,t)},useRecoilRefresher_UNSTABLE:function(e){let t=rK();return rq(()=>{let n=t.current;rG(n,e)},[e,t])},useRecoilValueLoadable_TRANSITION_SUPPORT_UNSTABLE:sb,useRecoilValue_TRANSITION_SUPPORT_UNSTABLE:s_,useRecoilState_TRANSITION_SUPPORT_UNSTABLE:sm,useRecoilCallback:sA,useRecoilTransaction_UNSTABLE:function(e,t){let n=rJ();return rY(()=>(...t)=>{let r=rX(n.current);r(n=>{e(n)(...t)})},null!=t?[...t,n]:void 0)},useGotoRecoilSnapshot:sS,useRecoilSnapshot:sI,useRecoilTransactionObserver_UNSTABLE:sR,snapshot_UNSTABLE:sp,useRetain:nI,retentionZone:sf};sD.DefaultValue,sD.isRecoilValue,sD.RecoilLoadable,sD.RecoilEnv;var sP=sD.RecoilRoot;sD.useRecoilStoreID,sD.useRecoilBridgeAcrossReactRoots_UNSTABLE;var sM=sD.atom;sD.selector,sD.atomFamily,sD.selectorFamily,sD.constSelector,sD.errorSelector,sD.readOnlySelector,sD.noWait,sD.waitForNone,sD.waitForAny,sD.waitForAll,sD.waitForAllSettled,sD.useRecoilValue,sD.useRecoilValueLoadable;var sU=sD.useRecoilState;sD.useRecoilStateLoadable,sD.useSetRecoilState,sD.useResetRecoilState,sD.useGetRecoilValueInfo_UNSTABLE,sD.useRecoilRefresher_UNSTABLE,sD.useRecoilValueLoadable_TRANSITION_SUPPORT_UNSTABLE,sD.useRecoilValue_TRANSITION_SUPPORT_UNSTABLE,sD.useRecoilState_TRANSITION_SUPPORT_UNSTABLE,sD.useRecoilCallback,sD.useRecoilTransaction_UNSTABLE,sD.useGotoRecoilSnapshot,sD.useRecoilSnapshot,sD.useRecoilTransactionObserver_UNSTABLE,sD.snapshot_UNSTABLE,sD.useRetain,sD.retentionZone}},function(e){var t=function(t){return e(e.s=t)};e.O(0,[774,179],function(){return t(6840),t(880)}),_N_E=e.O()}]);